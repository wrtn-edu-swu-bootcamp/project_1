"""
FitPlan AI - ìš´ë™ í”Œëœ ìƒì„± ë°ëª¨
ì‚¬ìš©ì ì‹ ì²´ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë§ì¶¤í˜• ìš´ë™ í”Œëœì„ ìƒì„±í•©ë‹ˆë‹¤.
"""

class UserInput:
    """ì‚¬ìš©ì ì…ë ¥ ìˆ˜ì§‘ í´ë˜ìŠ¤"""
    
    @staticmethod
    def get_required_info():
        """í•„ìˆ˜ ì •ë³´ ìˆ˜ì§‘"""
        print("\n" + "=" * 60)
        print("ğŸ“ ì‹ ì²´ ì •ë³´ ì…ë ¥")
        print("=" * 60)
        
        # í‚¤ ì…ë ¥
        while True:
            try:
                height = input("\ní‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš” (cm): ").strip()
                height = float(height)
                if 100 <= height <= 250:
                    break
                else:
                    print("âŒ ì˜¬ë°”ë¥¸ í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” (100-250cm)")
            except ValueError:
                print("âŒ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        
        # ëª¸ë¬´ê²Œ ì…ë ¥
        while True:
            try:
                weight = input("ëª¸ë¬´ê²Œë¥¼ ì…ë ¥í•˜ì„¸ìš” (kg): ").strip()
                weight = float(weight)
                if 30 <= weight <= 200:
                    break
                else:
                    print("âŒ ì˜¬ë°”ë¥¸ ëª¸ë¬´ê²Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” (30-200kg)")
            except ValueError:
                print("âŒ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        
        # ë‚˜ì´ ì…ë ¥
        while True:
            try:
                age = input("ë‚˜ì´ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ë§Œ ë‚˜ì´): ").strip()
                age = int(age)
                if 10 <= age <= 100:
                    break
                else:
                    print("âŒ ì˜¬ë°”ë¥¸ ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” (10-100ì„¸)")
            except ValueError:
                print("âŒ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        
        # ì„±ë³„ ì…ë ¥
        while True:
            gender = input("ì„±ë³„ì„ ì…ë ¥í•˜ì„¸ìš” (ë‚¨/ì—¬ ë˜ëŠ” M/F): ").strip().upper()
            if gender in ['ë‚¨', 'ì—¬', 'M', 'F', 'MALE', 'FEMALE']:
                if gender in ['ë‚¨', 'M', 'MALE']:
                    gender = 'ë‚¨ì„±'
                else:
                    gender = 'ì—¬ì„±'
                break
            else:
                print("âŒ 'ë‚¨' ë˜ëŠ” 'ì—¬'ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        
        return height, weight, age, gender
    
    @staticmethod
    def get_optional_info():
        """ì„ íƒ ì •ë³´ ìˆ˜ì§‘ (ì²´ì§€ë°©ë¥ , ê³¨ê²©ê·¼ëŸ‰)"""
        print("\n" + "-" * 60)
        print("ğŸ“Š ì¶”ê°€ ì •ë³´ ì…ë ¥ (ì„ íƒì‚¬í•­, ì—†ìœ¼ë©´ Enter)")
        print("-" * 60)
        
        # ì²´ì§€ë°©ë¥ 
        body_fat = None
        while True:
            try:
                bf_input = input("\nì²´ì§€ë°©ë¥  (%, ì—†ìœ¼ë©´ Enter): ").strip()
                if bf_input == "":
                    break
                body_fat = float(bf_input)
                if 5 <= body_fat <= 50:
                    break
                else:
                    print("âŒ ì˜¬ë°”ë¥¸ ì²´ì§€ë°©ë¥ ì„ ì…ë ¥í•´ì£¼ì„¸ìš” (5-50%)")
            except ValueError:
                print("âŒ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        
        # ê³¨ê²©ê·¼ëŸ‰
        skeletal_muscle = None
        while True:
            try:
                sm_input = input("ê³¨ê²©ê·¼ëŸ‰ (kg, ì—†ìœ¼ë©´ Enter): ").strip()
                if sm_input == "":
                    break
                skeletal_muscle = float(sm_input)
                if 10 <= skeletal_muscle <= 100:
                    break
                else:
                    print("âŒ ì˜¬ë°”ë¥¸ ê³¨ê²©ê·¼ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš” (10-100kg)")
            except ValueError:
                print("âŒ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        
        return body_fat, skeletal_muscle
    
    @staticmethod
    def get_fitness_goal():
        """ìš´ë™ ëª©í‘œ ì„ íƒ"""
        print("\n" + "=" * 60)
        print("ğŸ¯ ìš´ë™ ëª©í‘œ ì„ íƒ")
        print("=" * 60)
        print("\n1. ì²´ì¤‘ ê°ëŸ‰")
        print("2. ê·¼ìœ¡ ì¦ê°€")
        print("3. ì²´ì¤‘ ê°ëŸ‰ + ê·¼ìœ¡ ì¦ê°€ (ë°”ë”” ë¦¬ì»´í¬ì§€ì…˜)")
        print("4. ì²´ë ¥ í–¥ìƒ")
        print("5. ê±´ê°• ìœ ì§€")
        
        while True:
            try:
                choice = input("\nëª©í‘œë¥¼ ì„ íƒí•˜ì„¸ìš” (1-5): ").strip()
                choice = int(choice)
                if 1 <= choice <= 5:
                    goals = {
                        1: "ì²´ì¤‘ ê°ëŸ‰",
                        2: "ê·¼ìœ¡ ì¦ê°€",
                        3: "ì²´ì¤‘ ê°ëŸ‰ + ê·¼ìœ¡ ì¦ê°€",
                        4: "ì²´ë ¥ í–¥ìƒ",
                        5: "ê±´ê°• ìœ ì§€"
                    }
                    return goals[choice]
                else:
                    print("âŒ 1-5 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")
            except ValueError:
                print("âŒ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
    
    @staticmethod
    def get_workout_environment():
        """ìš´ë™ í™˜ê²½ ì„ íƒ"""
        print("\n" + "=" * 60)
        print("ğŸ‹ï¸ ìš´ë™ í™˜ê²½ ì„ íƒ")
        print("=" * 60)
        print("\n1. í—¬ìŠ¤ì¥ (ëª¨ë“  ì¥ë¹„ ì´ìš© ê°€ëŠ¥)")
        print("2. í™ˆíŠ¸ë ˆì´ë‹ (ì¥ë¹„ ìˆìŒ - ë¤ë²¨, ë°´ë“œ ë“±)")
        print("3. í™ˆíŠ¸ë ˆì´ë‹ (ì¥ë¹„ ì—†ìŒ - ë§¨ëª¸ ìš´ë™)")
        
        while True:
            try:
                choice = input("\nìš´ë™ í™˜ê²½ì„ ì„ íƒí•˜ì„¸ìš” (1-3): ").strip()
                choice = int(choice)
                if 1 <= choice <= 3:
                    environments = {
                        1: "í—¬ìŠ¤ì¥",
                        2: "í™ˆíŠ¸ë ˆì´ë‹ (ì¥ë¹„ ìˆìŒ)",
                        3: "í™ˆíŠ¸ë ˆì´ë‹ (ì¥ë¹„ ì—†ìŒ)"
                    }
                    return environments[choice]
                else:
                    print("âŒ 1-3 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")
            except ValueError:
                print("âŒ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
    
    @staticmethod
    def get_workout_frequency():
        """ì£¼ê°„ ìš´ë™ ë¹ˆë„ ì„ íƒ"""
        print("\n" + "=" * 60)
        print("ğŸ“… ì£¼ê°„ ìš´ë™ ê³„íš")
        print("=" * 60)
        
        while True:
            try:
                frequency = input("\nì¼ì£¼ì¼ì— ëª‡ íšŒ ìš´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (3-7): ").strip()
                frequency = int(frequency)
                if 3 <= frequency <= 7:
                    return frequency
                else:
                    print("âŒ 3-7 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. (ìµœì†Œ ì£¼ 3íšŒ ê¶Œì¥)")
            except ValueError:
                print("âŒ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
    
    @staticmethod
    def get_workout_duration():
        """1íšŒ ìš´ë™ ì‹œê°„ ì„ íƒ"""
        while True:
            try:
                duration = input("1íšŒ ìš´ë™ ì‹œê°„ì€ ëª‡ ë¶„ì¸ê°€ìš”? (30-120ë¶„): ").strip()
                duration = int(duration)
                if 30 <= duration <= 120:
                    return duration
                else:
                    print("âŒ 30-120 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")
            except ValueError:
                print("âŒ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
    
    @staticmethod
    def get_medical_conditions():
        """ì§€ë³‘ ë° ê±´ê°• ìƒíƒœ í™•ì¸"""
        print("\n" + "=" * 60)
        print("ğŸ’Š ì§€ë³‘ ë° ê±´ê°• ìƒíƒœ í™•ì¸")
        print("=" * 60)
        print("\ní˜„ì¬ ê°€ì§€ê³  ìˆëŠ” ì§€ë³‘ì´ë‚˜ ê±´ê°• ìƒíƒœê°€ ìˆë‚˜ìš”?")
        print("ì•ˆì „í•œ ìš´ë™ì„ ìœ„í•´ ë§ì¶¤ ì£¼ì˜ì‚¬í•­ì„ ì œê³µí•©ë‹ˆë‹¤.")
        
        conditions = []
        
        has_condition = input("\nì§€ë³‘ì´ ìˆìŠµë‹ˆê¹Œ? (ì˜ˆ/ì•„ë‹ˆì˜¤): ").strip()
        
        if has_condition in ['ì˜ˆ', 'y', 'yes', 'Y', 'YES', 'ë„¤']:
            print("\ní•´ë‹¹ë˜ëŠ” í•­ëª©ì„ ì„ íƒí•˜ì„¸ìš” (ì—¬ëŸ¬ ê°œ ì„ íƒ ê°€ëŠ¥, ì‰¼í‘œë¡œ êµ¬ë¶„):")
            print("1. ì €í˜ˆë‹¹")
            print("2. ë‹¹ë‡¨ë³‘")
            print("3. ì €í˜ˆì••")
            print("4. ê³ í˜ˆì••")
            print("5. ì‹¬ì¥ ì§ˆí™˜")
            print("6. ì²œì‹")
            print("7. ê¸°íƒ€")
            
            selections = input("\në²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 1,3): ").strip()
            
            condition_map = {
                "1": "ì €í˜ˆë‹¹",
                "2": "ë‹¹ë‡¨ë³‘",
                "3": "ì €í˜ˆì••",
                "4": "ê³ í˜ˆì••",
                "5": "ì‹¬ì¥ ì§ˆí™˜",
                "6": "ì²œì‹",
                "7": "ê¸°íƒ€"
            }
            
            for num in selections.split(','):
                num = num.strip()
                if num in condition_map:
                    conditions.append(condition_map[num])
                    if num == "7":
                        other = input("ê¸°íƒ€ ì§€ë³‘ì„ ì…ë ¥í•˜ì„¸ìš”: ").strip()
                        if other:
                            conditions[-1] = other
        
        return conditions
    
    @staticmethod
    def get_pain_areas():
        """í†µì¦ ë¶€ìœ„ í™•ì¸"""
        print("\n" + "=" * 60)
        print("âš ï¸ í†µì¦ ë¶€ìœ„ í™•ì¸")
        print("=" * 60)
        print("\ní˜„ì¬ í†µì¦ì´ë‚˜ ë¶ˆí¸í•¨ì„ ëŠë¼ëŠ” ë¶€ìœ„ê°€ ìˆë‚˜ìš”?")
        print("í•´ë‹¹ ë¶€ìœ„ë¥¼ í”¼í•˜ê±°ë‚˜ ì €ê°•ë„ ê°•í™” ìš´ë™ì„ ì œì•ˆí•©ë‹ˆë‹¤.")
        
        pain_areas = []
        
        has_pain = input("\ní†µì¦ì´ ìˆìŠµë‹ˆê¹Œ? (ì˜ˆ/ì•„ë‹ˆì˜¤): ").strip()
        
        if has_pain in ['ì˜ˆ', 'y', 'yes', 'Y', 'YES', 'ë„¤']:
            print("\në¶€ìœ„ë¥¼ ì„ íƒí•˜ì„¸ìš” (ì—¬ëŸ¬ ê°œ ì„ íƒ ê°€ëŠ¥, ì‰¼í‘œë¡œ êµ¬ë¶„):")
            print("1. ëª©/ì–´ê¹¨")
            print("2. í—ˆë¦¬")
            print("3. ë¬´ë¦")
            print("4. ì†ëª©")
            print("5. íŒ”ê¿ˆì¹˜")
            print("6. ë°œëª©")
            print("7. ê¸°íƒ€")
            
            selections = input("\në²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 1,3,4): ").strip()
            
            area_map = {
                "1": "ëª©/ì–´ê¹¨",
                "2": "í—ˆë¦¬",
                "3": "ë¬´ë¦",
                "4": "ì†ëª©",
                "5": "íŒ”ê¿ˆì¹˜",
                "6": "ë°œëª©",
                "7": "ê¸°íƒ€"
            }
            
            for num in selections.split(','):
                num = num.strip()
                if num in area_map:
                    pain_areas.append(area_map[num])
                    if num == "7":
                        other = input("ê¸°íƒ€ ë¶€ìœ„ë¥¼ ì…ë ¥í•˜ì„¸ìš”: ").strip()
                        if other:
                            pain_areas[-1] = other
        
        return pain_areas


class UserProfile:
    """ì‚¬ìš©ì í”„ë¡œí•„ í´ë˜ìŠ¤"""
    
    def __init__(self, height, weight, age, gender, body_fat_percentage=None, skeletal_muscle_mass=None):
        self.height = height  # cm
        self.weight = weight  # kg
        self.age = age
        self.gender = gender
        self.body_fat_percentage = body_fat_percentage  # %
        self.skeletal_muscle_mass = skeletal_muscle_mass  # kg
        
        # ì²´ì§€ë°©ë¥ ì´ ì—†ìœ¼ë©´ ì¶”ì •
        if self.body_fat_percentage is None:
            self.body_fat_percentage = self._estimate_body_fat()
        
        # ê³¨ê²©ê·¼ëŸ‰ì´ ì—†ìœ¼ë©´ ì¶”ì •
        if self.skeletal_muscle_mass is None:
            self.skeletal_muscle_mass = self._estimate_skeletal_muscle()
    
    def _estimate_body_fat(self):
        """BMI ê¸°ë°˜ ì²´ì§€ë°©ë¥  ì¶”ì •"""
        bmi = self.calculate_bmi()
        # ê°„ë‹¨í•œ ì¶”ì • ê³µì‹ (ì‹¤ì œë¡œëŠ” ë” ë³µì¡)
        if self.gender == "ë‚¨ì„±":
            estimated_bf = (1.20 * bmi) + (0.23 * self.age) - 16.2
        else:  # ì—¬ì„±
            estimated_bf = (1.20 * bmi) + (0.23 * self.age) - 5.4
        
        return round(max(5, min(50, estimated_bf)), 1)
    
    def _estimate_skeletal_muscle(self):
        """ì²´ì¤‘ ê¸°ë°˜ ê³¨ê²©ê·¼ëŸ‰ ì¶”ì •"""
        # ì¼ë°˜ì ì¸ ë¹„ìœ¨ ì‚¬ìš©
        if self.gender == "ë‚¨ì„±":
            ratio = 0.45  # ì²´ì¤‘ì˜ ì•½ 45%
        else:  # ì—¬ì„±
            ratio = 0.36  # ì²´ì¤‘ì˜ ì•½ 36%
        
        return round(self.weight * ratio, 1)
        
    def calculate_bmi(self):
        """BMI ê³„ì‚°"""
        height_m = self.height / 100
        bmi = self.weight / (height_m ** 2)
        return round(bmi, 2)
    
    def get_bmi_category(self):
        """BMI ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜"""
        bmi = self.calculate_bmi()
        if bmi < 18.5:
            return "ì €ì²´ì¤‘"
        elif 18.5 <= bmi < 23:
            return "ì •ìƒ"
        elif 23 <= bmi < 25:
            return "ê³¼ì²´ì¤‘"
        elif 25 <= bmi < 30:
            return "ë¹„ë§Œ"
        else:
            return "ê³ ë„ë¹„ë§Œ"
    
    def calculate_lean_body_mass(self):
        """ì œì§€ë°©ëŸ‰ ê³„ì‚°"""
        fat_mass = self.weight * (self.body_fat_percentage / 100)
        lean_mass = self.weight - fat_mass
        return round(lean_mass, 2)
    
    def get_body_fat_category(self):
        """ì²´ì§€ë°©ë¥  ì¹´í…Œê³ ë¦¬ (ì„±ë³„ êµ¬ë¶„)"""
        bf = self.body_fat_percentage
        
        if self.gender == "ë‚¨ì„±":
            if bf < 6:
                return "í•„ìˆ˜ ì§€ë°©"
            elif 6 <= bf < 14:
                return "ìš´ë™ì„ ìˆ˜ ìˆ˜ì¤€"
            elif 14 <= bf < 18:
                return "ê±´ê°•"
            elif 18 <= bf < 25:
                return "í‰ê· "
            else:
                return "ë†’ìŒ"
        else:  # ì—¬ì„±
            if bf < 14:
                return "í•„ìˆ˜ ì§€ë°©"
            elif 14 <= bf < 21:
                return "ìš´ë™ì„ ìˆ˜ ìˆ˜ì¤€"
            elif 21 <= bf < 25:
                return "ê±´ê°•"
            elif 25 <= bf < 32:
                return "í‰ê· "
            else:
                return "ë†’ìŒ"
    
    def analyze_body_composition(self):
        """ì‹ ì²´ êµ¬ì„± ë¶„ì„"""
        bmi = self.calculate_bmi()
        lean_mass = self.calculate_lean_body_mass()
        muscle_ratio = (self.skeletal_muscle_mass / self.weight) * 100
        
        analysis = {
            "BMI": bmi,
            "BMI ì¹´í…Œê³ ë¦¬": self.get_bmi_category(),
            "ì²´ì§€ë°©ë¥ ": f"{self.body_fat_percentage}%",
            "ì²´ì§€ë°©ë¥  ì¹´í…Œê³ ë¦¬": self.get_body_fat_category(),
            "ì œì§€ë°©ëŸ‰": f"{lean_mass}kg",
            "ê³¨ê²©ê·¼ëŸ‰": f"{self.skeletal_muscle_mass}kg",
            "ê³¨ê²©ê·¼ ë¹„ìœ¨": f"{round(muscle_ratio, 2)}%"
        }
        
        return analysis
    
    def print_profile(self):
        """í”„ë¡œí•„ ì¶œë ¥"""
        print("=" * 60)
        print("ğŸ“Š ì‚¬ìš©ì ì‹ ì²´ ì •ë³´ ë¶„ì„")
        print("=" * 60)
        print(f"\nğŸ”¹ ë‚˜ì´: {self.age}ì„¸")
        print(f"ğŸ”¹ ì„±ë³„: {self.gender}")
        print(f"ğŸ”¹ í‚¤: {self.height}cm")
        print(f"ğŸ”¹ ëª¸ë¬´ê²Œ: {self.weight}kg")
        print(f"ğŸ”¹ ì²´ì§€ë°©ë¥ : {self.body_fat_percentage}%")
        print(f"ğŸ”¹ ê³¨ê²©ê·¼ëŸ‰: {self.skeletal_muscle_mass}kg")
        print("\n" + "-" * 60)
        print("ğŸ“ˆ ì‹ ì²´ êµ¬ì„± ë¶„ì„ ê²°ê³¼")
        print("-" * 60)
        
        analysis = self.analyze_body_composition()
        for key, value in analysis.items():
            print(f"  â€¢ {key}: {value}")
        
        print("\n" + "=" * 60)


class FitnessPlanGenerator:
    """ìš´ë™ í”Œëœ ìƒì„±ê¸°"""
    
    # ìš´ë™ë³„ ìœ íŠœë¸Œ ë§í¬ ë°ì´í„°ë² ì´ìŠ¤
    EXERCISE_VIDEOS = {
        # í•˜ì²´ ìš´ë™
        "ë°”ë²¨ ìŠ¤ì¿¼íŠ¸": "https://www.youtube.com/watch?v=SW_C1A-rejs",
        "í”„ë¡ íŠ¸ ìŠ¤ì¿¼íŠ¸": "https://www.youtube.com/watch?v=uYumuL_G_V0",
        "ë ˆê·¸ í”„ë ˆìŠ¤": "https://www.youtube.com/watch?v=IZxyjW7MPJQ",
        "ë°ë“œë¦¬í”„íŠ¸": "https://www.youtube.com/watch?v=op9kVnSso6Q",
        "ë£¨ë§ˆë‹ˆì•ˆ ë°ë“œë¦¬í”„íŠ¸": "https://www.youtube.com/watch?v=VL5vNwbNMqM",
        "ìŠ¤í‹°í”„ ë ˆê·¸ ë°ë“œë¦¬í”„íŠ¸": "https://www.youtube.com/watch?v=1uDiW5--rAE",
        "ëŸ°ì§€": "https://www.youtube.com/watch?v=QOVaHwm-Q6U",
        "ëŸ°ì§€ ì›Œí‚¹": "https://www.youtube.com/watch?v=D7KaRcUTQeE",
        "ì‚¬ì´ë“œ ëŸ°ì§€": "https://www.youtube.com/watch?v=lwH5ULlTB6U",
        "ë ˆê·¸ ì»¬": "https://www.youtube.com/watch?v=1Tq3QdYUuHs",
        "ë ˆê·¸ ìµìŠ¤í…ì…˜": "https://www.youtube.com/watch?v=ljO4jkwv8wQ",
        "ì¹´í”„ ë ˆì´ì¦ˆ": "https://www.youtube.com/watch?v=gwLzBJYoWlI",
        "í™ ì“°ëŸ¬ìŠ¤íŠ¸": "https://www.youtube.com/watch?v=xDmFkJxPzeM",
        "ë¶ˆê°€ë¦¬ì•ˆ ìŠ¤í”Œë¦¿ ìŠ¤ì¿¼íŠ¸": "https://www.youtube.com/watch?v=2C-uSaDJAtw",
        "ì í”„ ìŠ¤ì¿¼íŠ¸": "https://www.youtube.com/watch?v=CVaEhXotL7M",
        "ìŠ¤ì¿¼íŠ¸": "https://www.youtube.com/watch?v=SW_C1A-rejs",
        
        # ê°€ìŠ´ ìš´ë™
        "ë²¤ì¹˜ í”„ë ˆìŠ¤": "https://www.youtube.com/watch?v=rT7DgCr-3pg",
        "ì¸í´ë¼ì¸ ë²¤ì¹˜ í”„ë ˆìŠ¤": "https://www.youtube.com/watch?v=SrqOu55lrYU",
        "ì¸í´ë¼ì¸ ë¤ë²¨ í”„ë ˆìŠ¤": "https://www.youtube.com/watch?v=8iPEnn-ltC8",
        "ë¤ë²¨ í”Œë¼ì´": "https://www.youtube.com/watch?v=eozdVDA78K0",
        "ì¼€ì´ë¸” í¬ë¡œìŠ¤ì˜¤ë²„": "https://www.youtube.com/watch?v=taI4XduLpTk",
        "í‘¸ì‹œì—…": "https://www.youtube.com/watch?v=IODxDxX7oi4",
        "ë‹¤ì´ì•„ëª¬ë“œ í‘¸ì‹œì—…": "https://www.youtube.com/watch?v=J0DnG1_S92I",
        "ë””í´ë¼ì¸ í‘¸ì‹œì—…": "https://www.youtube.com/watch?v=SKPab2YC8BE",
        
        # ë“± ìš´ë™
        "ë°ë“œë¦¬í”„íŠ¸": "https://www.youtube.com/watch?v=op9kVnSso6Q",
        "ë« í’€ë‹¤ìš´": "https://www.youtube.com/watch?v=CAwf7n6Luuc",
        "ì‹œí‹°ë“œ ë¡œìš°": "https://www.youtube.com/watch?v=UCXxvVItLoM",
        "ë²¤íŠ¸ì˜¤ë²„ ë¡œìš°": "https://www.youtube.com/watch?v=vT7bp3VqIIw",
        "ë¤ë²¨ ë¡œìš°": "https://www.youtube.com/watch?v=roCP6wCXPqo",
        "í˜ì´ìŠ¤ í’€": "https://www.youtube.com/watch?v=rep-qVOkqgk",
        "í’€ì—…": "https://www.youtube.com/watch?v=eGo4IYlbE5g",
        "ì¹œì—…": "https://www.youtube.com/watch?v=brhZQi6w5DA",
        "ì¸ë²„í‹°ë“œ ë¡œìš°": "https://www.youtube.com/watch?v=hXTc1mDnZCw",
        
        # ì–´ê¹¨ ìš´ë™
        "ìˆ„ë” í”„ë ˆìŠ¤": "https://www.youtube.com/watch?v=qEwKCR5JCog",
        "ë¤ë²¨ ìˆ„ë” í”„ë ˆìŠ¤": "https://www.youtube.com/watch?v=M2rwvNhTOu0",
        "ì‚¬ì´ë“œ ë ˆí„°ëŸ´ ë ˆì´ì¦ˆ": "https://www.youtube.com/watch?v=3VcKaXpzqRo",
        "í”„ë¡ íŠ¸ ë ˆì´ì¦ˆ": "https://www.youtube.com/watch?v=fHJ9BFS9oU0",
        "ë¦¬ì–´ ë¸íŠ¸ í”Œë¼ì´": "https://www.youtube.com/watch?v=T9Y4o_BqC0A",
        "íŒŒì´í¬ í‘¸ì‹œì—…": "https://www.youtube.com/watch?v=x4YWrlNUo60",
        "ì—…ë¼ì´íŠ¸ ë¡œìš°": "https://www.youtube.com/watch?v=f7OkLD5OG7k",
        
        # íŒ” ìš´ë™
        "ë°”ë²¨ ì»¬": "https://www.youtube.com/watch?v=LY1V6UbRHFM",
        "ë¤ë²¨ ì»¬": "https://www.youtube.com/watch?v=ykJmrZ5v0Oo",
        "í•´ë¨¸ ì»¬": "https://www.youtube.com/watch?v=zC3nLlEvin4",
        "íŠ¸ë¼ì´ì…‰ìŠ¤ ë”¥ìŠ¤": "https://www.youtube.com/watch?v=6kALZikXxLc",
        "ì¼€ì´ë¸” í‘¸ì‹œë‹¤ìš´": "https://www.youtube.com/watch?v=2-LAMcpzODU",
        "ì˜¤ë²„í—¤ë“œ íŠ¸ë¼ì´ì…‰ìŠ¤ ìµìŠ¤í…ì…˜": "https://www.youtube.com/watch?v=nRiJVZDpdL0",
        "ìŠ¤ì»¬ í¬ëŸ¬ì…”": "https://www.youtube.com/watch?v=d_KZxkY_0cM",
        
        # ì½”ì–´ ìš´ë™
        "í”Œë­í¬": "https://www.youtube.com/watch?v=ASdvN_XEl_c",
        "ì‚¬ì´ë“œ í”Œë­í¬": "https://www.youtube.com/watch?v=XeN4pEu4QtE",
        "í¬ëŸ°ì¹˜": "https://www.youtube.com/watch?v=Xyd_fa5zoEU",
        "ë ˆê·¸ ë ˆì´ì¦ˆ": "https://www.youtube.com/watch?v=JB2oyawG9KI",
        "ëŸ¬ì‹œì•ˆ íŠ¸ìœ„ìŠ¤íŠ¸": "https://www.youtube.com/watch?v=wkD8rjkodUI",
        "ë°”ì´ì‹œí´ í¬ëŸ°ì¹˜": "https://www.youtube.com/watch?v=9FGilxCbdz8",
        "ë§ˆìš´í‹´ í´ë¼ì´ë¨¸": "https://www.youtube.com/watch?v=nmwgirgXLYM",
        "ë²„ë“œë…": "https://www.youtube.com/watch?v=wiFNA3sqjCA",
        "ë°ë“œë²„ê·¸": "https://www.youtube.com/watch?v=g_BYB0R-4Ws",
        
        # ì „ì‹ /ê¸°íƒ€
        "ë²„í”¼": "https://www.youtube.com/watch?v=auBLPXO8Fww",
        "ì í”„ ì­": "https://www.youtube.com/watch?v=iSSAk4XCsRA",
        "í•˜ì´ ë‹ˆ": "https://www.youtube.com/watch?v=8opcQdC-V-U",
        "ë°•ìŠ¤ ì í”„": "https://www.youtube.com/watch?v=NBY9-kTuHEk",
        "ì¼€í‹€ë²¨ ìŠ¤ìœ™": "https://www.youtube.com/watch?v=YSxHifyI6s8",
    }
    
    def __init__(self, user_profile, goal, environment, frequency, duration, pain_areas=None, medical_conditions=None):
        self.user = user_profile
        self.goal = goal
        self.environment = environment
        self.frequency = frequency
        self.duration = duration
        self.pain_areas = pain_areas or []
        self.medical_conditions = medical_conditions or []
        
        # ì„±ë³„ì— ë”°ë¥¸ ê°•ë„/ë°˜ë³µ ì„¤ì •
        if self.user.gender == "ë‚¨ì„±":
            self.rep_range = "6-10íšŒ"  # ê³ ê°•ë„ ì €ë°˜ë³µ
            self.rep_description = "ê³ ê°•ë„ ì €ë°˜ë³µ (ê·¼ë ¥ ë° ê·¼ë¹„ëŒ€ ì¤‘ì‹¬)"
        else:  # ì—¬ì„±
            self.rep_range = "12-15íšŒ"  # ì €ê°•ë„ ê³ ë°˜ë³µ
            self.rep_description = "ì €ê°•ë„ ê³ ë°˜ë³µ (ê·¼ì§€êµ¬ë ¥ ë° íƒ„íƒ„í•œ ëª¸ë§¤ ì¤‘ì‹¬)"
    
    def get_cardio_details(self):
        """ëª©í‘œì— ë”°ë¥¸ ìœ ì‚°ì†Œ ìš´ë™ ìƒì„¸ ì •ë³´"""
        age = self.user.age
        max_hr = 220 - age  # ìµœëŒ€ ì‹¬ë°•ìˆ˜
        
        if "ì²´ì¤‘ ê°ëŸ‰" in self.goal and "ê·¼ìœ¡ ì¦ê°€" not in self.goal:
            # ì§€ë°© ì—°ì†Œ ì¡´ (ìµœëŒ€ ì‹¬ë°•ìˆ˜ì˜ 60-70%)
            target_hr_min = int(max_hr * 0.6)
            target_hr_max = int(max_hr * 0.7)
            intensity = "ì¤‘ê°•ë„ (ìˆ¨ì´ ì°¨ê¸° ì§ì „, ëŒ€í™” ê°€ëŠ¥)"
            cardio_type = "ì§€ì†í˜• ìœ ì‚°ì†Œ"
            equipment = ["íŠ¸ë ˆë“œë°€", "ì¼ë¦½í‹°ì»¬", "ì‚¬ì´í´", "íŒŒì›Œì›Œí‚¹"]
            duration = "30-45ë¶„"
            description = "ì§€ë°© ì—°ì†Œì— ìµœì í™”ëœ ì‹¬ë°•ìˆ˜ ìœ ì§€"
            
            # êµ¬ì²´ì ì¸ ìš´ë™ ì„¤ì •
            equipment_details = {
                "íŠ¸ë ˆë“œë°€ (ëŸ°ë‹ë¨¸ì‹ )": {
                    "ì´ˆê¸‰": "ì†ë„ 5-6 km/h, ì¸í´ë¼ì¸ 2-3%, 30ë¶„",
                    "ì¤‘ê¸‰": "ì†ë„ 6.5-7.5 km/h, ì¸í´ë¼ì¸ 3-5%, 35ë¶„",
                    "ê³ ê¸‰": "ì†ë„ 7.5-9 km/h, ì¸í´ë¼ì¸ 5-7%, 40-45ë¶„",
                    "íŒ": "ì¼ì •í•œ ì†ë„ ìœ ì§€, ë„ˆë¬´ ë¹ ë¥´ë©´ ì§€ë°© ì—°ì†Œë³´ë‹¤ ë‹¹ë¶„ ì—°ì†Œ"
                },
                "ì¼ë¦½í‹°ì»¬": {
                    "ì´ˆê¸‰": "ì €í•­ ë ˆë²¨ 5-7, RPM 120-140, 30ë¶„",
                    "ì¤‘ê¸‰": "ì €í•­ ë ˆë²¨ 8-10, RPM 140-160, 35ë¶„",
                    "ê³ ê¸‰": "ì €í•­ ë ˆë²¨ 11-14, RPM 160-180, 40-45ë¶„",
                    "íŒ": "ë¬´ë¦ì— ë¶€ë‹´ì´ ì ì–´ ì²´ì¤‘ì´ ë§ì´ ë‚˜ê°€ëŠ” ê²½ìš° ì¶”ì²œ"
                },
                "ì‚¬ì´í´ (ì‹¤ë‚´ ìì „ê±°)": {
                    "ì´ˆê¸‰": "ì €í•­ ë ˆë²¨ 5-7, RPM 60-70, 30ë¶„",
                    "ì¤‘ê¸‰": "ì €í•­ ë ˆë²¨ 8-10, RPM 70-80, 35ë¶„",
                    "ê³ ê¸‰": "ì €í•­ ë ˆë²¨ 11-13, RPM 80-90, 40-45ë¶„",
                    "íŒ": "ì•‰ì€ ìì„¸ì—ì„œ ì¼ì •í•œ í˜ì´ìŠ¤ ìœ ì§€"
                },
                "íŒŒì›Œì›Œí‚¹ (ë¹ ë¥¸ ê±·ê¸°)": {
                    "ì´ˆê¸‰": "ì†ë„ 5-5.5 km/h, í‰ì§€, 30ë¶„",
                    "ì¤‘ê¸‰": "ì†ë„ 5.5-6.5 km/h, ì•½ê°„ì˜ ê²½ì‚¬, 35ë¶„",
                    "ê³ ê¸‰": "ì†ë„ 6.5-7.5 km/h, ì¸í´ë¼ì¸ 3-5%, 40-45ë¶„",
                    "íŒ": "ì•¼ì™¸ì—ì„œ ê°€ëŠ¥, ë¹„ìš© ì—†ìŒ, ë¬´ë¦ ë¶€ë‹´ ì ìŒ"
                }
            }
        
        elif "ê·¼ìœ¡ ì¦ê°€" in self.goal or "ì²´ë ¥ í–¥ìƒ" in self.goal:
            # HIIT ì¡´ (ìµœëŒ€ ì‹¬ë°•ìˆ˜ì˜ 80-90%)
            target_hr_min = int(max_hr * 0.8)
            target_hr_max = int(max_hr * 0.9)
            intensity = "ê³ ê°•ë„ ì¸í„°ë²Œ (ë•€ì´ ë§ì´ ë‚¨, ëŒ€í™” ì–´ë ¤ì›€)"
            cardio_type = "ì¸í„°ë²Œ íŠ¸ë ˆì´ë‹ (HIIT)"
            equipment = ["íŠ¸ë ˆë“œë°€ ì¸í„°ë²Œ", "ë¡œì‰ë¨¸ì‹ ", "ì‚¬ì´í´ HIIT", "ë°°í‹€ë¡œí”„"]
            duration = "15-25ë¶„ (ì „ë ¥ 20ì´ˆ + íœ´ì‹ 40ì´ˆ)"
            description = "ê¸°ì´ˆëŒ€ì‚¬ëŸ‰ ì¦ê°€ ë° ì‹¬í ê¸°ëŠ¥ í–¥ìƒ"
            
            # êµ¬ì²´ì ì¸ ìš´ë™ ì„¤ì •
            equipment_details = {
                "íŠ¸ë ˆë“œë°€ ì¸í„°ë²Œ": {
                    "ì´ˆê¸‰": "ì „ë ¥: ì†ë„ 10 km/h (20ì´ˆ) â†’ íœ´ì‹: ì†ë„ 4 km/h (40ì´ˆ), 10ë¼ìš´ë“œ (10ë¶„)",
                    "ì¤‘ê¸‰": "ì „ë ¥: ì†ë„ 12 km/h, ì¸í´ë¼ì¸ 3% (30ì´ˆ) â†’ íœ´ì‹: ì†ë„ 5 km/h (30ì´ˆ), 12ë¼ìš´ë“œ (12ë¶„)",
                    "ê³ ê¸‰": "ì „ë ¥: ì†ë„ 14 km/h, ì¸í´ë¼ì¸ 5% (30ì´ˆ) â†’ íœ´ì‹: ì†ë„ 6 km/h (30ì´ˆ), 15ë¼ìš´ë“œ (15ë¶„)",
                    "íŒ": "ì›Œë°ì—… 5ë¶„, ì¿¨ë‹¤ìš´ 5ë¶„ í•„ìˆ˜"
                },
                "ë¡œì‰ë¨¸ì‹ ": {
                    "ì´ˆê¸‰": "ì „ë ¥: ê³ ê°•ë„ ë¡œì‰ (20ì´ˆ) â†’ íœ´ì‹: ì²œì²œíˆ (40ì´ˆ), 10ë¼ìš´ë“œ",
                    "ì¤‘ê¸‰": "ì „ë ¥: SPM 30-35 (30ì´ˆ) â†’ íœ´ì‹: SPM 20 (30ì´ˆ), 12ë¼ìš´ë“œ",
                    "ê³ ê¸‰": "ì „ë ¥: SPM 35-40 (30ì´ˆ) â†’ íœ´ì‹: SPM 20 (30ì´ˆ), 15ë¼ìš´ë“œ",
                    "íŒ": "ì „ì‹  ìš´ë™, ì¹¼ë¡œë¦¬ ì†Œëª¨ ë†’ìŒ"
                },
                "ì‚¬ì´í´ HIIT": {
                    "ì´ˆê¸‰": "ì „ë ¥: ì €í•­ 15, RPM 100+ (20ì´ˆ) â†’ íœ´ì‹: ì €í•­ 5, RPM 60 (40ì´ˆ), 10ë¼ìš´ë“œ",
                    "ì¤‘ê¸‰": "ì „ë ¥: ì €í•­ 18, RPM 110+ (30ì´ˆ) â†’ íœ´ì‹: ì €í•­ 5, RPM 60 (30ì´ˆ), 12ë¼ìš´ë“œ",
                    "ê³ ê¸‰": "ì „ë ¥: ì €í•­ 20, RPM 120+ (30ì´ˆ) â†’ íœ´ì‹: ì €í•­ 5, RPM 60 (30ì´ˆ), 15ë¼ìš´ë“œ",
                    "íŒ": "ì•‰ì•˜ë‹¤ ì„°ë‹¤ ë°˜ë³µí•˜ë©´ ë”ìš± íš¨ê³¼ì "
                },
                "ë°°í‹€ë¡œí”„ (Battle Rope)": {
                    "ì´ˆê¸‰": "ì „ë ¥: ì–‘íŒ” êµì°¨ ì›¨ì´ë¸Œ (15ì´ˆ) â†’ íœ´ì‹ (45ì´ˆ), 8ë¼ìš´ë“œ",
                    "ì¤‘ê¸‰": "ì „ë ¥: ì–‘íŒ” ì›¨ì´ë¸Œ/ìŠ¬ë¨ (20ì´ˆ) â†’ íœ´ì‹ (40ì´ˆ), 10ë¼ìš´ë“œ",
                    "ê³ ê¸‰": "ì „ë ¥: ë‹¤ì–‘í•œ íŒ¨í„´ (30ì´ˆ) â†’ íœ´ì‹ (30ì´ˆ), 12ë¼ìš´ë“œ",
                    "íŒ": "ìƒì²´ ê·¼ë ¥ë„ í•¨ê»˜ ë°œë‹¬"
                }
            }
        
        else:  # ì²´ì¤‘ ê°ëŸ‰ + ê·¼ìœ¡ ì¦ê°€ (ë¦¬ì»´í¬ì§€ì…˜)
            # ì¤‘-ê³ ê°•ë„ (ìµœëŒ€ ì‹¬ë°•ìˆ˜ì˜ 65-75%)
            target_hr_min = int(max_hr * 0.65)
            target_hr_max = int(max_hr * 0.75)
            intensity = "ì¤‘-ê³ ê°•ë„ (ì•½ê°„ ìˆ¨ì°¸, ì§§ì€ ëŒ€í™” ê°€ëŠ¥)"
            cardio_type = "í˜¼í•©í˜• ìœ ì‚°ì†Œ"
            equipment = ["íŠ¸ë ˆë“œë°€", "ì‚¬ì´í´", "ë¡œì‰ë¨¸ì‹ "]
            duration = "20-30ë¶„"
            description = "ì²´ì§€ë°© ê°ì†Œì™€ ê·¼ìœ¡ ìœ ì§€ ê· í˜•"
            
            # êµ¬ì²´ì ì¸ ìš´ë™ ì„¤ì •
            equipment_details = {
                "íŠ¸ë ˆë“œë°€": {
                    "ì´ˆê¸‰": "ì†ë„ 6-7 km/h, ì¸í´ë¼ì¸ 3-4%, 20ë¶„",
                    "ì¤‘ê¸‰": "ì†ë„ 7-8 km/h, ì¸í´ë¼ì¸ 4-5%, 25ë¶„ + ì¤‘ê°„ì— 1ë¶„ ë¹ ë¥¸ ì¸í„°ë²Œ 2íšŒ",
                    "ê³ ê¸‰": "ì†ë„ 8-9 km/h, ì¸í´ë¼ì¸ 5-7%, 30ë¶„ + ì¤‘ê°„ì— 1ë¶„ ë¹ ë¥¸ ì¸í„°ë²Œ 3íšŒ",
                    "íŒ": "ì¼ì •í•œ í˜ì´ìŠ¤ì— ê°„í—ì ìœ¼ë¡œ ê°•ë„ ë†’ì´ê¸°"
                },
                "ì‚¬ì´í´": {
                    "ì´ˆê¸‰": "ì €í•­ ë ˆë²¨ 8-10, RPM 70-80, 20ë¶„",
                    "ì¤‘ê¸‰": "ì €í•­ ë ˆë²¨ 10-12, RPM 75-85, 25ë¶„ + ì¤‘ê°„ì— ê³ ì €í•­ 1ë¶„ 2íšŒ",
                    "ê³ ê¸‰": "ì €í•­ ë ˆë²¨ 12-15, RPM 80-90, 30ë¶„ + ì¤‘ê°„ì— ê³ ì €í•­ 1ë¶„ 3íšŒ",
                    "íŒ": "ì•‰ì•˜ë‹¤ ì¼ì–´ì„°ë‹¤ ë³€í™”ë¥¼ ì£¼ë©´ íš¨ê³¼ì "
                },
                "ë¡œì‰ë¨¸ì‹ ": {
                    "ì´ˆê¸‰": "ì¤‘ê°„ ê°•ë„, SPM 22-26, 20ë¶„",
                    "ì¤‘ê¸‰": "ì¤‘-ê³ ê°•ë„, SPM 26-28, 25ë¶„ + ì¤‘ê°„ì— ê³ ê°•ë„ 1ë¶„ 2íšŒ",
                    "ê³ ê¸‰": "ê³ ê°•ë„, SPM 28-32, 30ë¶„ + ì¤‘ê°„ì— ìµœê³ ê°•ë„ 1ë¶„ 3íšŒ",
                    "íŒ": "ì „ì‹  ìš´ë™ìœ¼ë¡œ ê·¼ìœ¡ ìœ ì§€ì— ì¢‹ìŒ"
                },
                "ì¸í„°ë²Œ ë¯¹ìŠ¤": {
                    "ì´ˆê¸‰": "ì¤‘ê°•ë„ 5ë¶„ â†’ ê³ ê°•ë„ 1ë¶„, 4ì„¸íŠ¸ (24ë¶„)",
                    "ì¤‘ê¸‰": "ì¤‘ê°•ë„ 4ë¶„ â†’ ê³ ê°•ë„ 1ë¶„, 5ì„¸íŠ¸ (25ë¶„)",
                    "ê³ ê¸‰": "ì¤‘ê°•ë„ 3ë¶„ â†’ ê³ ê°•ë„ 1.5ë¶„, 6ì„¸íŠ¸ (27ë¶„)",
                    "íŒ": "ì§€ë°© ì—°ì†Œì™€ ê·¼ìœ¡ ìœ ì§€ ëª¨ë‘ íš¨ê³¼ì "
                }
            }
        
        return {
            "ëª©í‘œ_ì‹¬ë°•ìˆ˜": f"{target_hr_min}-{target_hr_max} bpm",
            "ìµœëŒ€_ì‹¬ë°•ìˆ˜": f"{max_hr} bpm",
            "ê°•ë„": intensity,
            "ìœ í˜•": cardio_type,
            "ì¶”ì²œ_ê¸°êµ¬": equipment,
            "ê¶Œì¥_ì‹œê°„": duration,
            "ì„¤ëª…": description,
            "ê¸°êµ¬ë³„_ìƒì„¸ì„¤ì •": equipment_details
        }
    
    def get_medical_precautions(self):
        """ì§€ë³‘ì— ë”°ë¥¸ ìš´ë™ ì£¼ì˜ì‚¬í•­"""
        precautions = {}
        
        for condition in self.medical_conditions:
            if condition == "ì €í˜ˆë‹¹":
                precautions[condition] = {
                    "ì£¼ì˜ì‚¬í•­": [
                        "ê³µë³µ ìš´ë™ ì ˆëŒ€ ê¸ˆì§€ - ìš´ë™ 1-2ì‹œê°„ ì „ ì‹ì‚¬ í•„ìˆ˜",
                        "ìš´ë™ ì¤‘ ì €í˜ˆë‹¹ ì¦ìƒ (ì–´ì§€ëŸ¬ì›€, ì‹ì€ë•€) ë°œìƒ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨",
                        "ìš´ë™ ì‹œ ë‹¹ë¶„ ì„­ì·¨ìš© ì‚¬íƒ•ì´ë‚˜ ì£¼ìŠ¤ ì¤€ë¹„",
                        "ê³ ê°•ë„ ìš´ë™ë³´ë‹¤ ì¤‘ê°•ë„ ìš´ë™ ê¶Œì¥",
                        "ìš´ë™ ì „í›„ í˜ˆë‹¹ ì²´í¬ ê¶Œì¥"
                    ],
                    "ê¶Œì¥_ìš´ë™": ["ì¤‘ê°•ë„ ìœ ì‚°ì†Œ (30ë¶„)", "ê°€ë²¼ìš´ ê·¼ë ¥ ìš´ë™", "ìš”ê°€", "í•„ë¼í…ŒìŠ¤"],
                    "í”¼í• _ìš´ë™": ["ê³µë³µ ìœ ì‚°ì†Œ", "HIIT (ê³ ê°•ë„ ì¸í„°ë²Œ)", "ì¥ì‹œê°„ ìœ ì‚°ì†Œ (60ë¶„ ì´ìƒ)"],
                    "ìš´ë™_ì „_ì„­ì·¨": ["ë°”ë‚˜ë‚˜ 1ê°œ", "ê²¬ê³¼ë¥˜ í•œì¤Œ", "ì˜¤íŠ¸ë°€", "í† ìŠ¤íŠ¸ + ë•…ì½©ë²„í„°"]
                }
            
            elif condition == "ë‹¹ë‡¨ë³‘":
                precautions[condition] = {
                    "ì£¼ì˜ì‚¬í•­": [
                        "ê·œì¹™ì ì¸ ìš´ë™ ì‹œê°„ ìœ ì§€ (í˜ˆë‹¹ ê´€ë¦¬ì— ë„ì›€)",
                        "ìš´ë™ ì „ í˜ˆë‹¹ ì²´í¬ (100-250mg/dL ë²”ìœ„ì—ì„œ ìš´ë™)",
                        "ì €í˜ˆë‹¹ ì˜ˆë°©ì„ ìœ„í•œ ê°„ì‹ ì¤€ë¹„",
                        "ë§¨ë°œ ìš´ë™ ê¸ˆì§€ (ë°œ ë³´í˜¸)",
                        "ìš´ë™ í›„ ë°œ ìƒíƒœ í™•ì¸"
                    ],
                    "ê¶Œì¥_ìš´ë™": ["ê±·ê¸°", "ìˆ˜ì˜", "ìì „ê±°", "ê°€ë²¼ìš´ ê·¼ë ¥ ìš´ë™"],
                    "í”¼í• _ìš´ë™": ["ê·¹ë„ì˜ ê³ ê°•ë„ ìš´ë™", "ê³µë³µ ìš´ë™"],
                    "ìš´ë™_ì‹œê°„": "ì‹í›„ 1-2ì‹œê°„"
                }
            
            elif condition == "ì €í˜ˆì••":
                precautions[condition] = {
                    "ì£¼ì˜ì‚¬í•­": [
                        "ê¸‰ê²©í•œ ìì„¸ ë³€í™” ì£¼ì˜ (ëˆ„ì› ë‹¤ ì¼ì–´ë‚  ë•Œ ì²œì²œíˆ)",
                        "ìš´ë™ ì „ ì¶©ë¶„í•œ ìˆ˜ë¶„ ì„­ì·¨",
                        "ì–´ì§€ëŸ¬ì›€ ëŠê»´ì§€ë©´ ì¦‰ì‹œ ì•‰ê±°ë‚˜ ëˆ•ê¸°",
                        "ê³ ì˜¨ í™˜ê²½ ìš´ë™ í”¼í•˜ê¸°",
                        "ìš´ë™ ê°•ë„ë¥¼ ì„œì„œíˆ ì¦ê°€"
                    ],
                    "ê¶Œì¥_ìš´ë™": ["ê°€ë²¼ìš´ ê±·ê¸°", "ìˆ˜ì˜", "ìì „ê±°", "ìš”ê°€ (ì—­ì „ ìì„¸ ì£¼ì˜)"],
                    "í”¼í• _ìš´ë™": ["ê¸‰ê²©í•œ ìì„¸ ë³€í™”", "ì˜¤ë˜ ì„œ ìˆëŠ” ìš´ë™", "ì‚¬ìš°ë‚˜ ì§í›„ ìš´ë™"],
                    "ìˆ˜ë¶„": "ìš´ë™ ì „ ë¬¼ 500ml, ìš´ë™ ì¤‘ ìˆ˜ì‹œë¡œ"
                }
            
            elif condition == "ê³ í˜ˆì••":
                precautions[condition] = {
                    "ì£¼ì˜ì‚¬í•­": [
                        "ë°œì‚´ë°” ê¸°ë²• (ìˆ¨ ì°¸ê¸°) ì ˆëŒ€ ê¸ˆì§€",
                        "ê³¼ë„í•œ ì¤‘ëŸ‰ë³´ë‹¤ ì ì ˆí•œ ì¤‘ëŸ‰ìœ¼ë¡œ ë§ì€ ë°˜ë³µ",
                        "ìš´ë™ ì¤‘ ê·œì¹™ì ì¸ í˜¸í¡ ìœ ì§€",
                        "ë¨¸ë¦¬ê°€ ì‹¬ì¥ë³´ë‹¤ ë‚®ì€ ìì„¸ í”¼í•˜ê¸°",
                        "ìš´ë™ ì „í›„ í˜ˆì•• ì²´í¬ ê¶Œì¥"
                    ],
                    "ê¶Œì¥_ìš´ë™": ["ìœ ì‚°ì†Œ ìš´ë™ (ë§¤ì¼ 30ë¶„)", "ê°€ë²¼ìš´ ê·¼ë ¥ ìš´ë™", "ìŠ¤íŠ¸ë ˆì¹­"],
                    "í”¼í• _ìš´ë™": ["ê³ ì¤‘ëŸ‰ ì›¨ì´íŠ¸", "ë“±ì²™ì„± ìš´ë™ (í”Œë­í¬ ì¥ì‹œê°„)", "ì—­ì „ ìì„¸"],
                    "ìš´ë™_ê°•ë„": "ìµœëŒ€ ì‹¬ë°•ìˆ˜ì˜ 50-70%",
                    "ì•½ë¬¼": "í˜ˆì••ì•½ ë³µìš© ì¤‘ì´ë©´ ì˜ì‚¬ì™€ ìƒë‹´ í•„ìˆ˜"
                }
            
            elif condition == "ì‹¬ì¥ ì§ˆí™˜":
                precautions[condition] = {
                    "ì£¼ì˜ì‚¬í•­": [
                        "âš ï¸ ìš´ë™ ì‹œì‘ ì „ ë°˜ë“œì‹œ ì˜ì‚¬ì™€ ìƒë‹´",
                        "ê°€ìŠ´ í†µì¦, í˜¸í¡ê³¤ë€ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨",
                        "ì‹¬ë°•ìˆ˜ ëª¨ë‹ˆí„°ë§ í•„ìˆ˜",
                        "ì›Œë°ì—…/ì¿¨ë‹¤ìš´ ì¶©ë¶„íˆ (ê° 10ë¶„)",
                        "ê¸‰ê²©í•œ ê°•ë„ ë³€í™” í”¼í•˜ê¸°"
                    ],
                    "ê¶Œì¥_ìš´ë™": ["ê±·ê¸°", "ê³ ì •ì‹ ìì „ê±°", "ìˆ˜ì˜ (ì˜ì‚¬ ìŠ¹ì¸ ì‹œ)"],
                    "í”¼í• _ìš´ë™": ["ê³ ê°•ë„ ìš´ë™", "ê²½ìŸì ì¸ ìš´ë™", "ë¬´ê±°ìš´ ì¤‘ëŸ‰"],
                    "ìš´ë™_ê°•ë„": "ì˜ì‚¬ê°€ ê¶Œì¥í•˜ëŠ” ì‹¬ë°•ìˆ˜ ë²”ìœ„ ë‚´",
                    "ì‘ê¸‰_ìƒí™©": "ê°€ìŠ´ í†µì¦, ê·¹ì‹¬í•œ í˜¸í¡ê³¤ë€, ì–´ì§€ëŸ¬ì›€ â†’ ì¦‰ì‹œ 119"
                }
            
            elif condition == "ì²œì‹":
                precautions[condition] = {
                    "ì£¼ì˜ì‚¬í•­": [
                        "ìš´ë™ ì „ ì¶©ë¶„í•œ ì›Œë°ì—… (15ë¶„)",
                        "í¡ì…ê¸° í•­ìƒ ì¤€ë¹„",
                        "ì°¬ ê³µê¸°, ê±´ì¡°í•œ í™˜ê²½ í”¼í•˜ê¸°",
                        "í˜¸í¡ê³¤ë€ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨",
                        "ìš´ë™ ê°•ë„ ì„œì„œíˆ ì¦ê°€"
                    ],
                    "ê¶Œì¥_ìš´ë™": ["ìˆ˜ì˜ (ìŠµí•œ í™˜ê²½)", "ìš”ê°€", "ê±·ê¸°", "ì‹¤ë‚´ ìì „ê±°"],
                    "í”¼í• _ìš´ë™": ["ì¶”ìš´ ë‚  ì•¼ì™¸ ìš´ë™", "ì¥ê±°ë¦¬ ë‹¬ë¦¬ê¸° (ì´ˆê¸°)", "ê³ ê°•ë„ HIIT"],
                    "í™˜ê²½": "ì‹¤ë‚´ ì˜¨ë„ 20-25ë„, ìŠµë„ 40-60%"
                }
        
        return precautions
    
    def get_pain_modifications(self):
        """í†µì¦ ë¶€ìœ„ì— ë”°ë¥¸ ìš´ë™ ìˆ˜ì • ë° ì¬í™œ ìš´ë™"""
        modifications = {}
        rehab_exercises = {}
        
        for area in self.pain_areas:
            if area == "ëª©/ì–´ê¹¨":
                modifications[area] = {
                    "í”¼í•´ì•¼_í• _ìš´ë™": ["ì˜¤ë²„í—¤ë“œ í”„ë ˆìŠ¤", "ì‚¬ì´ë“œ ë ˆí„°ëŸ´ ë ˆì´ì¦ˆ", "ì—…ë¼ì´íŠ¸ ë¡œìš°"],
                    "ì£¼ì˜_ìš´ë™": ["ë²¤ì¹˜ í”„ë ˆìŠ¤ (ì–´ê¹¨ ê°ë„ ì¡°ì ˆ)", "ë« í’€ë‹¤ìš´ (ëª© ë’¤ë¡œ ë‚´ë¦¬ì§€ ì•Šê¸°)"],
                    "ëŒ€ì²´_ìš´ë™": ["ì¸í´ë¼ì¸ í”„ë ˆìŠ¤", "í”„ë¡ íŠ¸ ë ˆì´ì¦ˆ (ê°€ë²¼ìš´ ë¬´ê²Œ)"]
                }
                rehab_exercises[area] = [
                    {"ì´ë¦„": "ìŠ¹ëª¨ê·¼ ìŠ¤íŠ¸ë ˆì¹­", "ì„¸íŠ¸": 3, "ì‹œê°„": "30ì´ˆ ìœ ì§€", "íœ´ì‹": "30ì´ˆ"},
                    {"ì´ë¦„": "ì–´ê¹¨ ì™¸íšŒì „ ìš´ë™ (ë°´ë“œ)", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "45ì´ˆ"},
                    {"ì´ë¦„": "ê²¬ê°‘ê³¨ í›„ì¸ ìš´ë™", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "45ì´ˆ"}
                ]
            
            elif area == "í—ˆë¦¬":
                modifications[area] = {
                    "í”¼í•´ì•¼_í• _ìš´ë™": ["ë°ë“œë¦¬í”„íŠ¸ (ê³ ì¤‘ëŸ‰)", "êµ¿ëª¨ë‹", "ìŠ¤íƒ ë”© ì˜¤ë²„í—¤ë“œ í”„ë ˆìŠ¤"],
                    "ì£¼ì˜_ìš´ë™": ["ìŠ¤ì¿¼íŠ¸ (ê¹Šì´ ì¡°ì ˆ)", "ë ˆê·¸ í”„ë ˆìŠ¤"],
                    "ëŒ€ì²´_ìš´ë™": ["ë ˆê·¸ í”„ë ˆìŠ¤", "ë¨¸ì‹  ìŠ¤ì¿¼íŠ¸", "í”Œë­í¬"]
                }
                rehab_exercises[area] = [
                    {"ì´ë¦„": "ë²„ë“œë…", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° 10íšŒ", "íœ´ì‹": "45ì´ˆ"},
                    {"ì´ë¦„": "ë°ë“œë²„ê·¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "45ì´ˆ"},
                    {"ì´ë¦„": "ë§¥ê¸¸ ë¹…3 (ì»¬ì—…, ì‚¬ì´ë“œí”Œë­í¬, ë²„ë“œë…)", "ì„¸íŠ¸": 2, "ê°": "10íšŒ"},
                    {"ì´ë¦„": "ìº£-ì¹´ìš° ìŠ¤íŠ¸ë ˆì¹­", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "30ì´ˆ"}
                ]
            
            elif area == "ë¬´ë¦":
                modifications[area] = {
                    "í”¼í•´ì•¼_í• _ìš´ë™": ["í’€ ìŠ¤ì¿¼íŠ¸", "ì í”„ ìš´ë™", "ëŸ°ì§€ (ê¹Šì€ ê°ë„)"],
                    "ì£¼ì˜_ìš´ë™": ["ë ˆê·¸ í”„ë ˆìŠ¤ (ê°ë„ ì¡°ì ˆ)", "ë ˆê·¸ ìµìŠ¤í…ì…˜"],
                    "ëŒ€ì²´_ìš´ë™": ["í•˜í”„ ìŠ¤ì¿¼íŠ¸", "ë ˆê·¸ ì»¬", "í™ ì“°ëŸ¬ìŠ¤íŠ¸"]
                }
                rehab_exercises[area] = [
                    {"ì´ë¦„": "VMO ê°•í™” (í„°ë¯¸ë„ ìµìŠ¤í…ì…˜)", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "45ì´ˆ"},
                    {"ì´ë¦„": "ì‹±ê¸€ ë ˆê·¸ ë°¸ëŸ°ìŠ¤", "ì„¸íŠ¸": 3, "ì‹œê°„": "30ì´ˆ", "íœ´ì‹": "30ì´ˆ"},
                    {"ì´ë¦„": "í´ë¨ì‰˜ ìš´ë™", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° 15íšŒ", "íœ´ì‹": "45ì´ˆ"},
                    {"ì´ë¦„": "í™ ë¸Œë¦¿ì§€", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "60ì´ˆ"}
                ]
            
            elif area == "ì†ëª©":
                modifications[area] = {
                    "í”¼í•´ì•¼_í• _ìš´ë™": ["ë°”ë²¨ ì»¬", "í”„ëŸ°íŠ¸ ë ˆì´ì¦ˆ", "í‘¸ì‹œì—… (ì†ë°”ë‹¥ ì§€ì§€)"],
                    "ì£¼ì˜_ìš´ë™": ["ë²¤ì¹˜ í”„ë ˆìŠ¤", "ë¤ë²¨ í”„ë ˆìŠ¤"],
                    "ëŒ€ì²´_ìš´ë™": ["í•´ë¨¸ ì»¬", "ë„ˆí´ í‘¸ì‹œì—…", "íŒ”ëš ì§€ì§€ í”Œë­í¬"]
                }
                rehab_exercises[area] = [
                    {"ì´ë¦„": "ì „ì™„ê·¼ ì»¬ (ê°€ë²¼ìš´ ë¬´ê²Œ)", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15-20íšŒ", "íœ´ì‹": "45ì´ˆ"},
                    {"ì´ë¦„": "ë¦¬ë²„ìŠ¤ ë¦¬ìŠ¤íŠ¸ ì»¬", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15-20íšŒ", "íœ´ì‹": "45ì´ˆ"},
                    {"ì´ë¦„": "ì†ëª© íšŒì „ ìš´ë™", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° ë°©í–¥ 10íšŒ", "íœ´ì‹": "30ì´ˆ"},
                    {"ì´ë¦„": "ì†ëª© ìŠ¤íŠ¸ë ˆì¹­", "ì„¸íŠ¸": 3, "ì‹œê°„": "30ì´ˆ ìœ ì§€", "íœ´ì‹": "30ì´ˆ"}
                ]
            
            elif area == "íŒ”ê¿ˆì¹˜":
                modifications[area] = {
                    "í”¼í•´ì•¼_í• _ìš´ë™": ["ìŠ¤ì»¬ í¬ëŸ¬ì…”", "ë”¥ìŠ¤", "í´ë¡œì¦ˆ ê·¸ë¦½ ë²¤ì¹˜"],
                    "ì£¼ì˜_ìš´ë™": ["ë°”ë²¨ ì»¬", "íŠ¸ë¼ì´ì…‰ìŠ¤ ìµìŠ¤í…ì…˜"],
                    "ëŒ€ì²´_ìš´ë™": ["ì¼€ì´ë¸” í‘¸ì‹œë‹¤ìš´", "í•´ë¨¸ ì»¬", "ì²´ìŠ¤íŠ¸ í”„ë ˆìŠ¤"]
                }
                rehab_exercises[area] = [
                    {"ì´ë¦„": "ì „ì™„ê·¼ ìŠ¤íŠ¸ë ˆì¹­", "ì„¸íŠ¸": 3, "ì‹œê°„": "30ì´ˆ", "íœ´ì‹": "30ì´ˆ"},
                    {"ì´ë¦„": "íƒ€ì›” íŠ¸ìœ„ìŠ¤íŠ¸ (ê°€ë³ê²Œ)", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "10íšŒ", "íœ´ì‹": "45ì´ˆ"},
                    {"ì´ë¦„": "ë°´ë“œ ìµìŠ¤í…ì…˜/í”Œë ‰ì…˜", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "45ì´ˆ"}
                ]
            
            elif area == "ë°œëª©":
                modifications[area] = {
                    "í”¼í•´ì•¼_í• _ìš´ë™": ["ì í”„ ìš´ë™", "ìŠ¤í”„ë¦°íŠ¸", "ë°•ìŠ¤ ì í”„"],
                    "ì£¼ì˜_ìš´ë™": ["ìŠ¤ì¿¼íŠ¸ (ê¹Šì´ ì¡°ì ˆ)", "ì¹´í”„ ë ˆì´ì¦ˆ"],
                    "ëŒ€ì²´_ìš´ë™": ["ì‹œí‹°ë“œ ë ˆê·¸ í”„ë ˆìŠ¤", "ì‚¬ì´í´ë§"]
                }
                rehab_exercises[area] = [
                    {"ì´ë¦„": "ë°œëª© ì•ŒíŒŒë²³ ì“°ê¸°", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "A-Z", "íœ´ì‹": "30ì´ˆ"},
                    {"ì´ë¦„": "ë°´ë“œ ë°œëª© ì €í•­ ìš´ë™", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° ë°©í–¥ 12íšŒ", "íœ´ì‹": "45ì´ˆ"},
                    {"ì´ë¦„": "ì‹±ê¸€ ë ˆê·¸ ë°¸ëŸ°ìŠ¤", "ì„¸íŠ¸": 3, "ì‹œê°„": "30ì´ˆ", "íœ´ì‹": "30ì´ˆ"},
                    {"ì´ë¦„": "ì¹´í”„ ìŠ¤íŠ¸ë ˆì¹­", "ì„¸íŠ¸": 3, "ì‹œê°„": "30ì´ˆ", "íœ´ì‹": "30ì´ˆ"}
                ]
        
        return modifications, rehab_exercises
    
    def get_weight_recommendation(self, exercise_name):
        """ìš´ë™ë³„ ë¬´ê²Œ ì¶”ì²œ (ì²´ì¤‘ ê¸°ì¤€)"""
        weight = self.user.weight
        gender = self.user.gender
        
        # ì„±ë³„ì— ë”°ë¥¸ ê¸°ë³¸ ë°°ìœ¨
        if gender == "ë‚¨ì„±":
            multipliers = {
                # í•˜ì²´ ìš´ë™
                "ë°”ë²¨ ìŠ¤ì¿¼íŠ¸": (1.0, 1.5, 2.0),  # ì´ˆê¸‰, ì¤‘ê¸‰, ê³ ê¸‰
                "ë ˆê·¸ í”„ë ˆìŠ¤": (1.5, 2.0, 2.5),
                "ë°ë“œë¦¬í”„íŠ¸": (1.0, 1.5, 2.0),
                "ë£¨ë§ˆë‹ˆì•ˆ ë°ë“œë¦¬í”„íŠ¸": (0.7, 1.0, 1.3),
                
                # ìƒì²´ ë°€ê¸°
                "ë²¤ì¹˜ í”„ë ˆìŠ¤": (0.5, 0.8, 1.2),
                "ì¸í´ë¼ì¸ ë¤ë²¨ í”„ë ˆìŠ¤": (0.15, 0.25, 0.35),  # ê° ì†
                "ìˆ„ë” í”„ë ˆìŠ¤": (0.3, 0.5, 0.7),
                "ë¤ë²¨ ìˆ„ë” í”„ë ˆìŠ¤": (0.12, 0.20, 0.28),  # ê° ì†
                
                # ìƒì²´ ë‹¹ê¸°ê¸°
                "ë« í’€ë‹¤ìš´": (0.5, 0.8, 1.0),
                "ì‹œí‹°ë“œ ë¡œìš°": (0.5, 0.8, 1.0),
                "ë¤ë²¨ ë¡œìš°": (0.15, 0.25, 0.35),  # ê° ì†
                
                # íŒ” ìš´ë™
                "ë°”ë²¨ ì»¬": (0.2, 0.3, 0.45),
                "ë¤ë²¨ ì»¬": (0.08, 0.12, 0.18),  # ê° ì†
            }
        else:  # ì—¬ì„±
            multipliers = {
                # í•˜ì²´ ìš´ë™
                "ë°”ë²¨ ìŠ¤ì¿¼íŠ¸": (0.5, 0.8, 1.2),
                "ë ˆê·¸ í”„ë ˆìŠ¤": (1.0, 1.5, 2.0),
                "ë°ë“œë¦¬í”„íŠ¸": (0.5, 0.8, 1.2),
                "ë£¨ë§ˆë‹ˆì•ˆ ë°ë“œë¦¬í”„íŠ¸": (0.4, 0.6, 0.9),
                
                # ìƒì²´ ë°€ê¸°
                "ë²¤ì¹˜ í”„ë ˆìŠ¤": (0.2, 0.4, 0.6),
                "ì¸í´ë¼ì¸ ë¤ë²¨ í”„ë ˆìŠ¤": (0.08, 0.12, 0.18),  # ê° ì†
                "ìˆ„ë” í”„ë ˆìŠ¤": (0.15, 0.25, 0.4),
                "ë¤ë²¨ ìˆ„ë” í”„ë ˆìŠ¤": (0.06, 0.10, 0.15),  # ê° ì†
                
                # ìƒì²´ ë‹¹ê¸°ê¸°
                "ë« í’€ë‹¤ìš´": (0.3, 0.5, 0.7),
                "ì‹œí‹°ë“œ ë¡œìš°": (0.3, 0.5, 0.7),
                "ë¤ë²¨ ë¡œìš°": (0.08, 0.12, 0.18),  # ê° ì†
                
                # íŒ” ìš´ë™
                "ë°”ë²¨ ì»¬": (0.1, 0.15, 0.25),
                "ë¤ë²¨ ì»¬": (0.04, 0.06, 0.10),  # ê° ì†
            }
        
        if exercise_name in multipliers:
            beginner, intermediate, advanced = multipliers[exercise_name]
            return {
                "ì´ˆê¸‰": round(weight * beginner, 1),
                "ì¤‘ê¸‰": round(weight * intermediate, 1),
                "ê³ ê¸‰": round(weight * advanced, 1)
            }
        return None
        
    def recommend_goal(self):
        """ì¶”ì²œ ìš´ë™ ëª©í‘œ"""
        bmi = self.user.calculate_bmi()
        body_fat = self.user.body_fat_percentage
        muscle_ratio = (self.user.skeletal_muscle_mass / self.user.weight) * 100
        
        recommendations = []
        
        # ì²´ì§€ë°©ë¥ ì´ ë†’ìœ¼ë©´ ì²´ì¤‘ ê°ëŸ‰
        if body_fat >= 25:
            recommendations.append({
                "ëª©í‘œ": "ì²´ì¤‘ ê°ëŸ‰ ë° ì²´ì§€ë°© ê°ì†Œ",
                "ìš°ì„ ìˆœìœ„": "ë†’ìŒ",
                "ì´ìœ ": f"ì²´ì§€ë°©ë¥  {body_fat}%ëŠ” í‰ê·  ì´ìƒì…ë‹ˆë‹¤."
            })
        
        # ê³¨ê²©ê·¼ ë¹„ìœ¨ì´ ë‚®ìœ¼ë©´ ê·¼ë ¥ ê°•í™”
        if muscle_ratio < 45:
            recommendations.append({
                "ëª©í‘œ": "ê·¼ë ¥ ê°•í™” ë° ê·¼ìœ¡ëŸ‰ ì¦ê°€",
                "ìš°ì„ ìˆœìœ„": "ë†’ìŒ",
                "ì´ìœ ": f"ê³¨ê²©ê·¼ ë¹„ìœ¨ {round(muscle_ratio, 2)}%ë¥¼ ê°œì„ í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤."
            })
        
        # BMI ê¸°ë°˜ ì¶”ì²œ
        if bmi < 18.5:
            recommendations.append({
                "ëª©í‘œ": "ê±´ê°•í•œ ì²´ì¤‘ ì¦ê°€",
                "ìš°ì„ ìˆœìœ„": "ì¤‘ê°„",
                "ì´ìœ ": "ì €ì²´ì¤‘ ìƒíƒœì…ë‹ˆë‹¤."
            })
        elif bmi >= 25:
            recommendations.append({
                "ëª©í‘œ": "ì²´ì¤‘ ê°ëŸ‰",
                "ìš°ì„ ìˆœìœ„": "ë†’ìŒ",
                "ì´ìœ ": "BMIê°€ ë¹„ë§Œ ë²”ìœ„ì…ë‹ˆë‹¤."
            })
        
        return recommendations
    
    def generate_weekly_plan(self):
        """ì£¼ê°„ ìš´ë™ í”Œëœ ìƒì„±"""
        
        plan = {
            "ëª©í‘œ": self.goal,
            "ìš´ë™_í™˜ê²½": self.environment,
            "ì£¼ê°„_ìš´ë™ì¼": self.frequency,
            "ìš´ë™_ì‹œê°„": f"{self.duration}ë¶„",
            "ì£¼ê°„_ê³„íš": []
        }
        
        # í™˜ê²½ì— ë”°ë¥¸ ìš´ë™ ì¢…ë¥˜ ê²°ì •
        is_gym = "í—¬ìŠ¤ì¥" in self.environment
        has_equipment = "ì¥ë¹„ ìˆìŒ" in self.environment or is_gym
        
        # ë¹ˆë„ì— ë”°ë¼ ë‹¤ë¥¸ ë¶„í•  ì ìš©
        if self.frequency == 3:
            plan["ì£¼ê°„_ê³„íš"] = self._generate_3day_split(is_gym, has_equipment)
        elif self.frequency == 4:
            plan["ì£¼ê°„_ê³„íš"] = self._generate_4day_split(is_gym, has_equipment)
        elif self.frequency == 5:
            plan["ì£¼ê°„_ê³„íš"] = self._generate_5day_split(is_gym, has_equipment)
        else:  # 6-7ì¼
            plan["ì£¼ê°„_ê³„íš"] = self._generate_6day_split(is_gym, has_equipment)
        
        return plan
    
    def _generate_3day_split(self, is_gym, has_equipment):
        """ì£¼ 3íšŒ ì „ì‹  ìš´ë™"""
        days = ["ì›”ìš”ì¼", "ìˆ˜ìš”ì¼", "ê¸ˆìš”ì¼"]
        workouts = []
        
        for idx, day in enumerate(days, 1):
            if is_gym:
                workout = {
                    "ìš”ì¼": day,
                    "ì£¼ì œ": f"ì „ì‹  ìš´ë™ Day {idx}",
                    "ìš´ë™": [
                        {"ì´ë¦„": "ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12-15íšŒ", "íœ´ì‹": "90ì´ˆ"},
                        {"ì´ë¦„": "ë²¤ì¹˜ í”„ë ˆìŠ¤ or í‘¸ì‹œì—…", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "10-12íšŒ", "íœ´ì‹": "90ì´ˆ"},
                        {"ì´ë¦„": "ë« í’€ë‹¤ìš´", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "75ì´ˆ"},
                        {"ì´ë¦„": "ìˆ„ë” í”„ë ˆìŠ¤", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "10-12íšŒ", "íœ´ì‹": "75ì´ˆ"},
                        {"ì´ë¦„": "ë£¨ë§ˆë‹ˆì•ˆ ë°ë“œë¦¬í”„íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "90ì´ˆ"},
                        {"ì´ë¦„": "í”Œë­í¬", "ì„¸íŠ¸": 3, "ì‹œê°„": "45ì´ˆ", "íœ´ì‹": "45ì´ˆ"}
                    ]
                }
            elif has_equipment:
                workout = {
                    "ìš”ì¼": day,
                    "ì£¼ì œ": f"ì „ì‹  ìš´ë™ Day {idx}",
                    "ìš´ë™": [
                        {"ì´ë¦„": "ë¤ë²¨ ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                        {"ì´ë¦„": "í‘¸ì‹œì—…", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12-15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                        {"ì´ë¦„": "ë¤ë²¨ ë¡œìš°", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° íŒ” 12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                        {"ì´ë¦„": "ë¤ë²¨ ìˆ„ë” í”„ë ˆìŠ¤", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                        {"ì´ë¦„": "ëŸ°ì§€", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° ë‹¤ë¦¬ 10íšŒ", "íœ´ì‹": "60ì´ˆ"},
                        {"ì´ë¦„": "í”Œë­í¬", "ì„¸íŠ¸": 3, "ì‹œê°„": "45ì´ˆ", "íœ´ì‹": "45ì´ˆ"}
                    ]
                }
            else:  # ë§¨ëª¸
                workout = {
                    "ìš”ì¼": day,
                    "ì£¼ì œ": f"ì „ì‹  ë§¨ëª¸ ìš´ë™ Day {idx}",
                    "ìš´ë™": [
                        {"ì´ë¦„": "ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "20íšŒ", "íœ´ì‹": "60ì´ˆ"},
                        {"ì´ë¦„": "í‘¸ì‹œì—…", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ìµœëŒ€í•œ", "íœ´ì‹": "60ì´ˆ"},
                        {"ì´ë¦„": "ì¸ë²„í‹°ë“œ ë¡œìš° (í…Œì´ë¸” í™œìš©)", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                        {"ì´ë¦„": "íŒŒì´í¬ í‘¸ì‹œì—…", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "10-12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                        {"ì´ë¦„": "ëŸ°ì§€", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° ë‹¤ë¦¬ 15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                        {"ì´ë¦„": "í”Œë­í¬", "ì„¸íŠ¸": 3, "ì‹œê°„": "45-60ì´ˆ", "íœ´ì‹": "45ì´ˆ"},
                        {"ì´ë¦„": "ë²„í”¼", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "10íšŒ", "íœ´ì‹": "60ì´ˆ"}
                    ]
                }
            
            # ëª©í‘œì— ë”°ë¼ ìœ ì‚°ì†Œ ì¶”ê°€
            if "ì²´ì¤‘ ê°ëŸ‰" in self.goal or "ì²´ë ¥" in self.goal:
                workout["ìš´ë™"].append({"ì´ë¦„": "ìœ ì‚°ì†Œ ìš´ë™", "ì‹œê°„": "20-30ë¶„", "ê°•ë„": "ì¤‘ê°•ë„"})
            
            workouts.append(workout)
        
        return workouts
    
    def _generate_4day_split(self, is_gym, has_equipment):
        """ì£¼ 4íšŒ ìƒí•˜ì²´ ë¶„í• """
        workouts = []
        days = ["ì›”ìš”ì¼", "í™”ìš”ì¼", "ëª©ìš”ì¼", "ê¸ˆìš”ì¼"]
        
        # ì„±ë³„ì— ë”°ë¥¸ ë°˜ë³µ íšŸìˆ˜
        if self.user.gender == "ë‚¨ì„±":
            main_reps = "6-8íšŒ"
            secondary_reps = "8-10íšŒ"
            accessory_reps = "10-12íšŒ"
        else:  # ì—¬ì„±
            main_reps = "10-12íšŒ"
            secondary_reps = "12-15íšŒ"
            accessory_reps = "15-20íšŒ"
        
        # Day 1: í•˜ì²´
        if is_gym:
            lower1 = {
                "ìš”ì¼": days[0],
                "ì£¼ì œ": "í•˜ì²´ ê·¼ë ¥",
                "ìš´ë™": [
                    {"ì´ë¦„": "ë°”ë²¨ ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 4, "íšŸìˆ˜": main_reps, "íœ´ì‹": "120ì´ˆ"},
                    {"ì´ë¦„": "ë£¨ë§ˆë‹ˆì•ˆ ë°ë“œë¦¬í”„íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": secondary_reps, "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ë ˆê·¸ í”„ë ˆìŠ¤", "ì„¸íŠ¸": 3, "íšŸìˆ˜": secondary_reps, "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ë ˆê·¸ ì»¬", "ì„¸íŠ¸": 3, "íšŸìˆ˜": accessory_reps, "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ì¹´í”„ ë ˆì´ì¦ˆ", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "20íšŒ", "íœ´ì‹": "45ì´ˆ"}
                ]
            }
        elif has_equipment:
            lower1 = {
                "ìš”ì¼": days[0],
                "ì£¼ì œ": "í•˜ì²´ ê·¼ë ¥",
                "ìš´ë™": [
                    {"ì´ë¦„": "ë¤ë²¨ ê³ ë¸”ë¦¿ ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ë¤ë²¨ ë£¨ë§ˆë‹ˆì•ˆ ë°ë“œë¦¬í”„íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12-15íšŒ", "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ë¶ˆê°€ë¦¬ì•ˆ ìŠ¤í”Œë¦¿ ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° ë‹¤ë¦¬ 12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ì‹±ê¸€ ë ˆê·¸ ë°ë“œë¦¬í”„íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° ë‹¤ë¦¬ 10íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ì¹´í”„ ë ˆì´ì¦ˆ", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "20íšŒ", "íœ´ì‹": "45ì´ˆ"}
                ]
            }
        else:
            lower1 = {
                "ìš”ì¼": days[0],
                "ì£¼ì œ": "í•˜ì²´ ë§¨ëª¸ ìš´ë™",
                "ìš´ë™": [
                    {"ì´ë¦„": "ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "20-25íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ëŸ°ì§€", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "ê° ë‹¤ë¦¬ 15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ì í”„ ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ì‹±ê¸€ ë ˆê·¸ ë£¨ë§ˆë‹ˆì•ˆ ë°ë“œë¦¬í”„íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° ë‹¤ë¦¬ 12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ì¹´í”„ ë ˆì´ì¦ˆ", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "25íšŒ", "íœ´ì‹": "30ì´ˆ"}
                ]
            }
        
        # Day 2: ìƒì²´ (ë°€ê¸°)
        if is_gym:
            upper_push = {
                "ìš”ì¼": days[1],
                "ì£¼ì œ": "ìƒì²´ ë°€ê¸° (ê°€ìŠ´, ì–´ê¹¨, ì‚¼ë‘)",
                "ìš´ë™": [
                    {"ì´ë¦„": "ë²¤ì¹˜ í”„ë ˆìŠ¤", "ì„¸íŠ¸": 4, "íšŸìˆ˜": main_reps, "íœ´ì‹": "120ì´ˆ"},
                    {"ì´ë¦„": "ì¸í´ë¼ì¸ ë¤ë²¨ í”„ë ˆìŠ¤", "ì„¸íŠ¸": 3, "íšŸìˆ˜": secondary_reps, "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ìˆ„ë” í”„ë ˆìŠ¤", "ì„¸íŠ¸": 3, "íšŸìˆ˜": secondary_reps, "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ì‚¬ì´ë“œ ë ˆí„°ëŸ´ ë ˆì´ì¦ˆ", "ì„¸íŠ¸": 3, "íšŸìˆ˜": accessory_reps, "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "íŠ¸ë¼ì´ì…‰ìŠ¤ ë”¥ìŠ¤", "ì„¸íŠ¸": 3, "íšŸìˆ˜": secondary_reps, "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ì¼€ì´ë¸” í‘¸ì‹œë‹¤ìš´", "ì„¸íŠ¸": 3, "íšŸìˆ˜": accessory_reps, "íœ´ì‹": "45ì´ˆ"}
                ]
            }
        elif has_equipment:
            upper_push = {
                "ìš”ì¼": days[1],
                "ì£¼ì œ": "ìƒì²´ ë°€ê¸° (ê°€ìŠ´, ì–´ê¹¨, ì‚¼ë‘)",
                "ìš´ë™": [
                    {"ì´ë¦„": "í‘¸ì‹œì—… (ë†’ì€ ë‚œì´ë„)", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "ìµœëŒ€í•œ", "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ë¤ë²¨ í”„ë ˆìŠ¤", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ë¤ë²¨ ìˆ„ë” í”„ë ˆìŠ¤", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ë¤ë²¨ ì‚¬ì´ë“œ ë ˆì´ì¦ˆ", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ë¤ë²¨ ì˜¤ë²„í—¤ë“œ ìµìŠ¤í…ì…˜", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12-15íšŒ", "íœ´ì‹": "60ì´ˆ"}
                ]
            }
        else:
            upper_push = {
                "ìš”ì¼": days[1],
                "ì£¼ì œ": "ìƒì²´ ë°€ê¸° ë§¨ëª¸ ìš´ë™",
                "ìš´ë™": [
                    {"ì´ë¦„": "í‘¸ì‹œì—… (ë‹¤ì–‘í•œ ë³€í˜•)", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "ìµœëŒ€í•œ", "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "íŒŒì´í¬ í‘¸ì‹œì—…", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12-15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ë‹¤ì´ì•„ëª¬ë“œ í‘¸ì‹œì—…", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "10-12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ë”¥ìŠ¤ (ì˜ì í™œìš©)", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12-15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "í”Œë­í¬ íˆ¬ í‘¸ì‹œì—…", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "10íšŒ", "íœ´ì‹": "60ì´ˆ"}
                ]
            }
        
        # Day 3: í•˜ì²´ (ë‹¤ë¥¸ ì´ˆì )
        if is_gym:
            lower2 = {
                "ìš”ì¼": days[2],
                "ì£¼ì œ": "í•˜ì²´ ê·¼ë ¥ & í­ë°œë ¥",
                "ìš´ë™": [
                    {"ì´ë¦„": "í”„ë¡ íŠ¸ ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 4, "íšŸìˆ˜": main_reps, "íœ´ì‹": "120ì´ˆ"},
                    {"ì´ë¦„": "ëŸ°ì§€ ì›Œí‚¹", "ì„¸íŠ¸": 3, "íšŸìˆ˜": f"ê° ë‹¤ë¦¬ {secondary_reps}", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ë ˆê·¸ ìµìŠ¤í…ì…˜", "ì„¸íŠ¸": 3, "íšŸìˆ˜": accessory_reps, "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ìŠ¤í‹°í”„ ë ˆê·¸ ë°ë“œë¦¬í”„íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": secondary_reps, "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ì í”„ ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "10-12íšŒ", "íœ´ì‹": "90ì´ˆ"}
                ]
            }
        else:
            lower2 = {
                "ìš”ì¼": days[2],
                "ì£¼ì œ": "í•˜ì²´ ì§€êµ¬ë ¥ & ë¯¼ì²©ì„±",
                "ìš´ë™": [
                    {"ì´ë¦„": "ìŠ¤ì¿¼íŠ¸ ì í”„", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ì›Œí‚¹ ëŸ°ì§€", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° ë‹¤ë¦¬ 15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ì‹±ê¸€ ë ˆê·¸ ìŠ¤ì¿¼íŠ¸ (ë³´ì¡°)", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° ë‹¤ë¦¬ 8-10íšŒ", "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ì‚¬ì´ë“œ ëŸ°ì§€", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° ë‹¤ë¦¬ 12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ë§ˆìš´í‹´ í´ë¼ì´ë¨¸", "ì„¸íŠ¸": 3, "ì‹œê°„": "45ì´ˆ", "íœ´ì‹": "45ì´ˆ"}
                ]
            }
        
        # Day 4: ìƒì²´ (ë‹¹ê¸°ê¸°)
        if is_gym:
            upper_pull = {
                "ìš”ì¼": days[3],
                "ì£¼ì œ": "ìƒì²´ ë‹¹ê¸°ê¸° (ë“±, ì´ë‘)",
                "ìš´ë™": [
                    {"ì´ë¦„": "ë°ë“œë¦¬í”„íŠ¸", "ì„¸íŠ¸": 4, "íšŸìˆ˜": main_reps, "íœ´ì‹": "150ì´ˆ"},
                    {"ì´ë¦„": "ë« í’€ë‹¤ìš´", "ì„¸íŠ¸": 3, "íšŸìˆ˜": secondary_reps, "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ì‹œí‹°ë“œ ë¡œìš°", "ì„¸íŠ¸": 3, "íšŸìˆ˜": secondary_reps, "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "í˜ì´ìŠ¤ í’€", "ì„¸íŠ¸": 3, "íšŸìˆ˜": accessory_reps, "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ë°”ë²¨ ì»¬", "ì„¸íŠ¸": 3, "íšŸìˆ˜": secondary_reps, "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "í•´ë¨¸ ì»¬", "ì„¸íŠ¸": 3, "íšŸìˆ˜": accessory_reps, "íœ´ì‹": "60ì´ˆ"}
                ]
            }
        elif has_equipment:
            upper_pull = {
                "ìš”ì¼": days[3],
                "ì£¼ì œ": "ìƒì²´ ë‹¹ê¸°ê¸° (ë“±, ì´ë‘)",
                "ìš´ë™": [
                    {"ì´ë¦„": "ë¤ë²¨ ë¡œìš°", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "ê° íŒ” 12íšŒ", "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ë¦¬ë²„ìŠ¤ í”Œë¼ì´", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ë¤ë²¨ í’€ì˜¤ë²„", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ë¤ë²¨ ì»¬", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12-15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "í•´ë¨¸ ì»¬", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12-15íšŒ", "íœ´ì‹": "60ì´ˆ"}
                ]
            }
        else:
            upper_pull = {
                "ìš”ì¼": days[3],
                "ì£¼ì œ": "ìƒì²´ ë‹¹ê¸°ê¸° ë§¨ëª¸ ìš´ë™",
                "ìš´ë™": [
                    {"ì´ë¦„": "ì¸ë²„í‹°ë“œ ë¡œìš° (í…Œì´ë¸” í™œìš©)", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "ìµœëŒ€í•œ", "íœ´ì‹": "90ì´ˆ"},
                    {"ì´ë¦„": "ìŠˆí¼ë§¨", "ì„¸íŠ¸": 3, "ì‹œê°„": "30ì´ˆ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "í”Œë­í¬ ë¡œìš° (êµì°¨)", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° íŒ” 12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ë„ì–´í”„ë ˆì„ ì»¬ (íƒ€ì›” í™œìš©)", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ìµœëŒ€í•œ", "íœ´ì‹": "60ì´ˆ"},
                    {"ì´ë¦„": "ë°”ì´ì‹œí´ í¬ëŸ°ì¹˜", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "20íšŒ", "íœ´ì‹": "45ì´ˆ"}
                ]
            }
        
        # ëª©í‘œì— ë”°ë¼ ìœ ì‚°ì†Œ ì¶”ê°€
        if "ì²´ì¤‘ ê°ëŸ‰" in self.goal or "ì²´ë ¥" in self.goal:
            for workout in [lower1, lower2]:
                workout["ìš´ë™"].append({"ì´ë¦„": "ìœ ì‚°ì†Œ ìš´ë™", "ì‹œê°„": "15-20ë¶„", "ê°•ë„": "ì¤‘-ê³ ê°•ë„"})
        
        workouts = [lower1, upper_push, lower2, upper_pull]
        return workouts
    
    def _generate_5day_split(self, is_gym, has_equipment):
        """ì£¼ 5íšŒ ë¶„í• """
        # 4ì¼ ë¶„í• ì— ë³µê·¼/ìœ ì‚°ì†Œ ë°ì´ ì¶”ê°€
        workouts = self._generate_4day_split(is_gym, has_equipment)
        
        # Day 5: ë³µê·¼ & ìœ ì‚°ì†Œ & ìœ ì—°ì„±
        day5 = {
            "ìš”ì¼": "í† ìš”ì¼",
            "ì£¼ì œ": "ì½”ì–´ & ìœ ì‚°ì†Œ & ìŠ¤íŠ¸ë ˆì¹­",
            "ìš´ë™": [
                {"ì´ë¦„": "í”Œë­í¬", "ì„¸íŠ¸": 3, "ì‹œê°„": "60ì´ˆ", "íœ´ì‹": "45ì´ˆ"},
                {"ì´ë¦„": "ì‚¬ì´ë“œ í”Œë­í¬", "ì„¸íŠ¸": 3, "ì‹œê°„": "ê° ì‚¬ì´ë“œ 45ì´ˆ", "íœ´ì‹": "45ì´ˆ"},
                {"ì´ë¦„": "ë°”ì´ì‹œí´ í¬ëŸ°ì¹˜", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "20íšŒ", "íœ´ì‹": "45ì´ˆ"},
                {"ì´ë¦„": "ë ˆê·¸ ë ˆì´ì¦ˆ", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "45ì´ˆ"},
                {"ì´ë¦„": "ëŸ¬ì‹œì•ˆ íŠ¸ìœ„ìŠ¤íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "20íšŒ (ê° ì‚¬ì´ë“œ)", "íœ´ì‹": "45ì´ˆ"},
                {"ì´ë¦„": "HIIT ìœ ì‚°ì†Œ", "ì‹œê°„": "20ë¶„", "ê°•ë„": "ê³ ê°•ë„"},
                {"ì´ë¦„": "ì „ì‹  ìŠ¤íŠ¸ë ˆì¹­", "ì‹œê°„": "10-15ë¶„"}
            ]
        }
        
        workouts.append(day5)
        return workouts
    
    def _generate_6day_split(self, is_gym, has_equipment):
        """ì£¼ 6-7íšŒ ë¶„í•  (Push/Pull/Legs 2íšŒ)"""
        workouts = []
        days = ["ì›”ìš”ì¼", "í™”ìš”ì¼", "ìˆ˜ìš”ì¼", "ê¸ˆìš”ì¼", "í† ìš”ì¼", "ì¼ìš”ì¼"]
        
        # PPL ë£¨í‹´ (2ë²ˆ ë°˜ë³µ)
        routines = ["Push", "Pull", "Legs", "Push", "Pull", "Legs"]
        
        for idx, (day, routine) in enumerate(zip(days, routines)):
            if routine == "Push":
                if is_gym:
                    workout = {
                        "ìš”ì¼": day,
                        "ì£¼ì œ": "Push - ê°€ìŠ´, ì–´ê¹¨, ì‚¼ë‘",
                        "ìš´ë™": [
                            {"ì´ë¦„": "ë²¤ì¹˜ í”„ë ˆìŠ¤", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "8-10íšŒ", "íœ´ì‹": "120ì´ˆ"},
                            {"ì´ë¦„": "ì¸í´ë¼ì¸ ë¤ë²¨ í”„ë ˆìŠ¤", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "10-12íšŒ", "íœ´ì‹": "90ì´ˆ"},
                            {"ì´ë¦„": "ë¤ë²¨ í”Œë¼ì´", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                            {"ì´ë¦„": "ìˆ„ë” í”„ë ˆìŠ¤", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "10íšŒ", "íœ´ì‹": "90ì´ˆ"},
                            {"ì´ë¦„": "ì‚¬ì´ë“œ ë ˆí„°ëŸ´ ë ˆì´ì¦ˆ", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                            {"ì´ë¦„": "íŠ¸ë¼ì´ì…‰ìŠ¤ í‘¸ì‹œë‹¤ìš´", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12-15íšŒ", "íœ´ì‹": "60ì´ˆ"}
                        ]
                    }
                else:
                    workout = {
                        "ìš”ì¼": day,
                        "ì£¼ì œ": "Push - ê°€ìŠ´, ì–´ê¹¨, ì‚¼ë‘",
                        "ìš´ë™": [
                            {"ì´ë¦„": "í‘¸ì‹œì—… (ë‹¤ì–‘í•œ ë³€í˜•)", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "ìµœëŒ€í•œ", "íœ´ì‹": "90ì´ˆ"},
                            {"ì´ë¦„": "íŒŒì´í¬ í‘¸ì‹œì—…", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                            {"ì´ë¦„": "ë‹¤ì´ì•„ëª¬ë“œ í‘¸ì‹œì—…", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "10íšŒ", "íœ´ì‹": "60ì´ˆ"},
                            {"ì´ë¦„": "ë”¥ìŠ¤", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "60ì´ˆ"}
                        ]
                    }
            
            elif routine == "Pull":
                if is_gym:
                    workout = {
                        "ìš”ì¼": day,
                        "ì£¼ì œ": "Pull - ë“±, ì´ë‘, í›„ë©´ ì–´ê¹¨",
                        "ìš´ë™": [
                            {"ì´ë¦„": "ë°ë“œë¦¬í”„íŠ¸", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "8íšŒ", "íœ´ì‹": "150ì´ˆ"},
                            {"ì´ë¦„": "ë« í’€ë‹¤ìš´", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "90ì´ˆ"},
                            {"ì´ë¦„": "ì‹œí‹°ë“œ ë¡œìš°", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "90ì´ˆ"},
                            {"ì´ë¦„": "í˜ì´ìŠ¤ í’€", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                            {"ì´ë¦„": "ë°”ë²¨ ì»¬", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                            {"ì´ë¦„": "í•´ë¨¸ ì»¬", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "60ì´ˆ"}
                        ]
                    }
                else:
                    workout = {
                        "ìš”ì¼": day,
                        "ì£¼ì œ": "Pull - ë“±, ì´ë‘",
                        "ìš´ë™": [
                            {"ì´ë¦„": "ì¸ë²„í‹°ë“œ ë¡œìš°", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "ìµœëŒ€í•œ", "íœ´ì‹": "90ì´ˆ"},
                            {"ì´ë¦„": "ìŠˆí¼ë§¨", "ì„¸íŠ¸": 3, "ì‹œê°„": "30ì´ˆ", "íœ´ì‹": "60ì´ˆ"},
                            {"ì´ë¦„": "í”Œë­í¬ ë¡œìš°", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° íŒ” 12íšŒ", "íœ´ì‹": "60ì´ˆ"}
                        ]
                    }
            
            else:  # Legs
                if is_gym:
                    workout = {
                        "ìš”ì¼": day,
                        "ì£¼ì œ": "Legs - í•˜ì²´ ì „ì²´",
                        "ìš´ë™": [
                            {"ì´ë¦„": "ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "10-12íšŒ", "íœ´ì‹": "120ì´ˆ"},
                            {"ì´ë¦„": "ë£¨ë§ˆë‹ˆì•ˆ ë°ë“œë¦¬í”„íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "90ì´ˆ"},
                            {"ì´ë¦„": "ë ˆê·¸ í”„ë ˆìŠ¤", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "15íšŒ", "íœ´ì‹": "90ì´ˆ"},
                            {"ì´ë¦„": "ë ˆê·¸ ì»¬", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                            {"ì´ë¦„": "ì¹´í”„ ë ˆì´ì¦ˆ", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "20íšŒ", "íœ´ì‹": "45ì´ˆ"}
                        ]
                    }
                else:
                    workout = {
                        "ìš”ì¼": day,
                        "ì£¼ì œ": "Legs - í•˜ì²´ ì „ì²´",
                        "ìš´ë™": [
                            {"ì´ë¦„": "ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 4, "íšŸìˆ˜": "20-25íšŒ", "íœ´ì‹": "60ì´ˆ"},
                            {"ì´ë¦„": "ëŸ°ì§€", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° ë‹¤ë¦¬ 15íšŒ", "íœ´ì‹": "60ì´ˆ"},
                            {"ì´ë¦„": "ì í”„ ìŠ¤ì¿¼íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "12íšŒ", "íœ´ì‹": "60ì´ˆ"},
                            {"ì´ë¦„": "ì‹±ê¸€ ë ˆê·¸ ë°ë“œë¦¬í”„íŠ¸", "ì„¸íŠ¸": 3, "íšŸìˆ˜": "ê° ë‹¤ë¦¬ 12íšŒ", "íœ´ì‹": "60ì´ˆ"}
                        ]
                    }
            
            workouts.append(workout)
        
        # 7ì¼ì´ë©´ ë§ˆì§€ë§‰ ë‚  ì‚­ì œ
        if self.frequency == 6:
            workouts = workouts[:6]
        
        return workouts
    
    def get_exercise_video(self, exercise_name):
        """ìš´ë™ ì´ë¦„ìœ¼ë¡œ ìœ íŠœë¸Œ ë§í¬ ì°¾ê¸°"""
        # ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ê²ƒ ë¨¼ì € ì°¾ê¸°
        if exercise_name in self.EXERCISE_VIDEOS:
            return self.EXERCISE_VIDEOS[exercise_name]
        
        # ë¶€ë¶„ ì¼ì¹˜ ì°¾ê¸° (ê´„í˜¸ ì œê±° í›„)
        clean_name = exercise_name.split('(')[0].strip()
        if clean_name in self.EXERCISE_VIDEOS:
            return self.EXERCISE_VIDEOS[clean_name]
        
        for key in self.EXERCISE_VIDEOS:
            if key in exercise_name or exercise_name in key:
                return self.EXERCISE_VIDEOS[key]
        
        return None
    
    def print_weekly_plan(self, plan):
        """ì£¼ê°„ í”Œëœ ì¶œë ¥ (ìœ íŠœë¸Œ ë§í¬ í¬í•¨)"""
        print("\n" + "=" * 60)
        print("ğŸ’ª ë§ì¶¤í˜• ì£¼ê°„ ìš´ë™ í”Œëœ")
        print("=" * 60)
        print(f"\nğŸ¯ ìš´ë™ ëª©í‘œ: {plan['ëª©í‘œ']}")
        print(f"ğŸ“… ì£¼ê°„ ìš´ë™ì¼: {plan['ì£¼ê°„_ìš´ë™ì¼']}ì¼")
        print(f"â±  1íšŒ ìš´ë™ ì‹œê°„: {plan['ìš´ë™_ì‹œê°„']}")
        print("\n" + "-" * 60)
        
        for idx, day_plan in enumerate(plan["ì£¼ê°„_ê³„íš"], 1):
            print(f"\nğŸ“Œ Day {idx} - {day_plan['ìš”ì¼']}: {day_plan['ì£¼ì œ']}")
            print("-" * 60)
            
            for exercise in day_plan["ìš´ë™"]:
                if "íšŸìˆ˜" in exercise:
                    print(f"  âœ“ {exercise['ì´ë¦„']}")
                    print(f"    - {exercise['ì„¸íŠ¸']}ì„¸íŠ¸ Ã— {exercise['íšŸìˆ˜']}, íœ´ì‹ {exercise['íœ´ì‹']}")
                    
                    # ìœ íŠœë¸Œ ë§í¬ ì¶”ê°€
                    video_url = self.get_exercise_video(exercise['ì´ë¦„'])
                    if video_url:
                        print(f"    ğŸ“¹ ìš´ë™ ë°©ë²•: {video_url}")
                    
                elif "ì‹œê°„" in exercise and "ë¼ìš´ë“œ" in exercise:
                    print(f"  âœ“ {exercise['ì´ë¦„']}")
                    print(f"    - {exercise['ë¼ìš´ë“œ']}ë¼ìš´ë“œ, ì´ {exercise['ì´ì‹œê°„']}")
                    
                    video_url = self.get_exercise_video(exercise['ì´ë¦„'])
                    if video_url:
                        print(f"    ğŸ“¹ ìš´ë™ ë°©ë²•: {video_url}")
                    
                elif "ì‹œê°„" in exercise:
                    print(f"  âœ“ {exercise['ì´ë¦„']}")
                    print(f"    - ì‹œê°„: {exercise['ì‹œê°„']}" + (f", ê°•ë„: {exercise['ê°•ë„']}" if "ê°•ë„" in exercise else ""))
                    
                    video_url = self.get_exercise_video(exercise['ì´ë¦„'])
                    if video_url:
                        print(f"    ğŸ“¹ ìš´ë™ ë°©ë²•: {video_url}")
        
        print("\n" + "=" * 60)
    
    def print_nutrition_guide(self):
        """ì˜ì–‘ ê°€ì´ë“œ ì¶œë ¥"""
        # Harris-Benedict ë°©ì •ì‹ìœ¼ë¡œ BMR ê³„ì‚°
        weight = self.user.weight
        height = self.user.height
        age = self.user.age
        
        if self.user.gender == "ë‚¨ì„±":
            bmr = 88.362 + (13.397 * weight) + (4.799 * height) - (5.677 * age)
        else:
            bmr = 447.593 + (9.247 * weight) + (3.098 * height) - (4.330 * age)
        
        # í™œë™ ìˆ˜ì¤€ì— ë”°ë¥¸ TDEE (ìš´ë™ ë¹ˆë„ ê³ ë ¤)
        activity_multipliers = {3: 1.375, 4: 1.55, 5: 1.725, 6: 1.9, 7: 1.9}
        tdee = bmr * activity_multipliers.get(self.frequency, 1.55)
        
        # ëª©í‘œì— ë”°ë¥¸ ì¹¼ë¡œë¦¬ ì¡°ì •
        if "ì²´ì¤‘ ê°ëŸ‰" in self.goal and "ê·¼ìœ¡ ì¦ê°€" not in self.goal:
            target_cal = tdee - 500  # ì£¼ë‹¹ 0.5kg ê°ëŸ‰
            calorie_note = "ì²´ì¤‘ ê°ëŸ‰ì„ ìœ„í•œ ì¹¼ë¡œë¦¬ ì ì"
        elif "ê·¼ìœ¡ ì¦ê°€" in self.goal and "ì²´ì¤‘ ê°ëŸ‰" not in self.goal:
            target_cal = tdee + 300  # ê·¼ìœ¡ ì¦ê°€ë¥¼ ìœ„í•œ ì¹¼ë¡œë¦¬ í‘ì
            calorie_note = "ê·¼ìœ¡ ì¦ê°€ë¥¼ ìœ„í•œ ì¹¼ë¡œë¦¬ í‘ì"
        elif "ì²´ì¤‘ ê°ëŸ‰ + ê·¼ìœ¡ ì¦ê°€" in self.goal:
            target_cal = tdee - 200  # ì•½ê°„ì˜ ì ìë¡œ ë¦¬ì»´í¬ì§€ì…˜
            calorie_note = "ë°”ë”” ë¦¬ì»´í¬ì§€ì…˜ (ì²´ì§€ë°© ê°ì†Œ + ê·¼ìœ¡ ìœ ì§€/ì¦ê°€)"
        else:
            target_cal = tdee
            calorie_note = "ì²´ì¤‘ ìœ ì§€"
        
        # ëª©í‘œì— ë”°ë¥¸ ë‹¨ë°±ì§ˆ ì„­ì·¨ëŸ‰
        if "ê·¼ìœ¡ ì¦ê°€" in self.goal:
            protein_min = weight * 1.8
            protein_max = weight * 2.2
        else:
            protein_min = weight * 1.6
            protein_max = weight * 2.0
        
        print("\n" + "=" * 60)
        print("ğŸ ë§ì¶¤ ì˜ì–‘ ê°€ì´ë“œ")
        print("=" * 60)
        print(f"\nğŸ’¡ ê¸°ì´ˆ ëŒ€ì‚¬ëŸ‰ (BMR): ì•½ {int(bmr)}kcal/ì¼")
        print(f"ğŸ’¡ ì´ ì—ë„ˆì§€ ì†Œë¹„ëŸ‰ (TDEE): ì•½ {int(tdee)}kcal/ì¼")
        print(f"ğŸ’¡ ëª©í‘œ ì„­ì·¨ ì¹¼ë¡œë¦¬: ì•½ {int(target_cal)}kcal/ì¼")
        print(f"   â†’ {calorie_note}")
        
        print(f"\nğŸ¥— ì˜ì–‘ì†Œ ë¹„ìœ¨ ({self.goal}):")
        print(f"  â€¢ ë‹¨ë°±ì§ˆ: {round(protein_min, 1)}g - {round(protein_max, 1)}g/ì¼")
        print(f"    (ì²´ì¤‘ 1kgë‹¹ {round(protein_min/weight, 1)}-{round(protein_max/weight, 1)}g)")
        
        if "ì²´ì¤‘ ê°ëŸ‰" in self.goal:
            carb_ratio = 2.0
            fat_ratio = 0.8
        elif "ê·¼ìœ¡ ì¦ê°€" in self.goal:
            carb_ratio = 4.0
            fat_ratio = 1.0
        else:
            carb_ratio = 3.0
            fat_ratio = 0.9
        
        print(f"  â€¢ íƒ„ìˆ˜í™”ë¬¼: {round(weight * carb_ratio, 1)}g - {round(weight * (carb_ratio + 0.5), 1)}g/ì¼")
        print(f"  â€¢ ì§€ë°©: {round(weight * fat_ratio, 1)}g - {round(weight * (fat_ratio + 0.2), 1)}g/ì¼")
        
        print(f"\nğŸ’§ ìˆ˜ë¶„ ì„­ì·¨: ìµœì†Œ {round(weight * 0.035, 1)}L/ì¼ (ì²´ì¤‘ 1kgë‹¹ 35ml)")
        
        print("\nğŸ“Œ ì˜ì–‘ ì„­ì·¨ íŒ:")
        if "ì²´ì¤‘ ê°ëŸ‰" in self.goal:
            print("  â€¢ ê³ ë‹¨ë°±, ì €ì§€ë°© ì‹í’ˆ ìœ„ì£¼ (ë‹­ê°€ìŠ´ì‚´, ìƒì„ , ë‘ë¶€)")
            print("  â€¢ ë³µí•© íƒ„ìˆ˜í™”ë¬¼ ì„ íƒ (í˜„ë¯¸, ê³ êµ¬ë§ˆ, ê·€ë¦¬)")
            print("  â€¢ ì±„ì†Œë¥¼ ë§ì´ ì„­ì·¨í•˜ì—¬ í¬ë§Œê° ìœ ì§€")
        elif "ê·¼ìœ¡ ì¦ê°€" in self.goal:
            print("  â€¢ ìš´ë™ ì „í›„ ë‹¨ë°±ì§ˆ + íƒ„ìˆ˜í™”ë¬¼ ì„­ì·¨")
            print("  â€¢ í•˜ë£¨ 5-6ë¼ë¡œ ë‚˜ëˆ  ë¨¹ê¸°")
            print("  â€¢ ì–‘ì§ˆì˜ ì§€ë°© ì„­ì·¨ (ê²¬ê³¼ë¥˜, ì•„ë³´ì¹´ë„, ì˜¬ë¦¬ë¸Œìœ )")
        
        print("\n" + "=" * 60)
    
    def print_meal_plan(self):
        """ì˜ˆì‹œ ì‹ë‹¨ ì¶œë ¥"""
        print("\n" + "=" * 60)
        print("ğŸ½ï¸  ì˜ˆì‹œ ì‹ë‹¨")
        print("=" * 60)
        
        weight = self.user.weight
        gender = self.user.gender
        
        # ëª©í‘œì— ë”°ë¥¸ ì¹¼ë¡œë¦¬ ê³„ì‚° (print_nutrition_guideì™€ ë™ì¼í•œ ë¡œì§)
        height = self.user.height
        age = self.user.age
        
        if gender == "ë‚¨ì„±":
            bmr = 88.362 + (13.397 * weight) + (4.799 * height) - (5.677 * age)
        else:
            bmr = 447.593 + (9.247 * weight) + (3.098 * height) - (4.330 * age)
        
        activity_multipliers = {3: 1.375, 4: 1.55, 5: 1.725, 6: 1.9, 7: 1.9}
        tdee = bmr * activity_multipliers.get(self.frequency, 1.55)
        
        if "ì²´ì¤‘ ê°ëŸ‰" in self.goal and "ê·¼ìœ¡ ì¦ê°€" not in self.goal:
            target_cal = tdee - 500
            meal_type = "ì²´ì¤‘ ê°ëŸ‰"
        elif "ê·¼ìœ¡ ì¦ê°€" in self.goal and "ì²´ì¤‘ ê°ëŸ‰" not in self.goal:
            target_cal = tdee + 300
            meal_type = "ê·¼ìœ¡ ì¦ê°€"
        elif "ì²´ì¤‘ ê°ëŸ‰ + ê·¼ìœ¡ ì¦ê°€" in self.goal:
            target_cal = tdee - 200
            meal_type = "ì²´ì¤‘ ê°ëŸ‰ + ê·¼ìœ¡ ì¦ê°€"
        else:
            target_cal = tdee
            meal_type = "ì²´ì¤‘ ìœ ì§€"
        
        print(f"\nğŸ¯ ëª©í‘œ: {meal_type}")
        print(f"ğŸ“Š ëª©í‘œ ì¹¼ë¡œë¦¬: ì•½ {int(target_cal)}kcal/ì¼")
        
        # ëª©í‘œì— ë”°ë¥¸ ì‹ë‹¨ ì œì‹œ
        if meal_type == "ì²´ì¤‘ ê°ëŸ‰":
            self._print_weight_loss_meal()
        elif meal_type == "ê·¼ìœ¡ ì¦ê°€":
            self._print_muscle_gain_meal()
        elif meal_type == "ì²´ì¤‘ ê°ëŸ‰ + ê·¼ìœ¡ ì¦ê°€":
            self._print_recomp_meal()
        else:
            self._print_maintenance_meal()
        
        print("\n" + "-" * 60)
        print("ğŸ’¡ ì‹ë‹¨ íŒ")
        print("-" * 60)
        print("\n  â€¢ ìœ„ ì‹ë‹¨ì€ ì˜ˆì‹œì´ë©°, ê°œì¸ ì·¨í–¥ì— ë§ê²Œ ì¡°ì ˆí•˜ì„¸ìš”")
        print("  â€¢ ë¹„ìŠ·í•œ ì˜ì–‘ì†Œë¥¼ ê°€ì§„ ìŒì‹ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥í•©ë‹ˆë‹¤")
        print("  â€¢ ë¬¼ì€ í•˜ë£¨ 2-2.5L ì´ìƒ ì¶©ë¶„íˆ ì„­ì·¨í•˜ì„¸ìš”")
        print("  â€¢ ê°€ê³µì‹í’ˆê³¼ ì„¤íƒ• ì„­ì·¨ë¥¼ ì¤„ì´ì„¸ìš”")
        print("  â€¢ ì‹ì‚¬ ì‹œê°„ì€ ì¼ì •í•˜ê²Œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤")
        
        print("\n" + "=" * 60)
    
    def _print_weight_loss_meal(self):
        """ì²´ì¤‘ ê°ëŸ‰ ì‹ë‹¨"""
        print("\n" + "-" * 60)
        print("ì˜ˆì‹œ í•˜ë£¨ ì‹ë‹¨ (ì²´ì¤‘ ê°ëŸ‰)")
        print("-" * 60)
        
        print("\nğŸŒ… ì•„ì¹¨ (ì•½ 400kcal)")
        print("  â€¢ í˜„ë¯¸ë°¥ 1/2ê³µê¸° (150kcal)")
        print("  â€¢ ê³„ë€ 2ê°œ (ì‚¶ì€ ê³„ë€ ë˜ëŠ” ìŠ¤í¬ë¨ë¸”) (140kcal)")
        print("  â€¢ ê¹€ì¹˜ì°Œê°œ 1ì¸ë¶„ (80kcal)")
        print("  â€¢ ìƒëŸ¬ë“œ (ì˜¤ì´, í† ë§ˆí† , ì–‘ìƒì¶”) (30kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 20g, íƒ„ìˆ˜í™”ë¬¼ 45g, ì§€ë°© 8g")
        
        print("\nâ˜€ï¸ ì ì‹¬ (ì•½ 500kcal)")
        print("  â€¢ ë‹­ê°€ìŠ´ì‚´ ìƒëŸ¬ë“œ 200g (200kcal)")
        print("  â€¢ ê³ êµ¬ë§ˆ ì¤‘ 1ê°œ (150g) (150kcal)")
        print("  â€¢ ë¸Œë¡œì½œë¦¬ 100g (30kcal)")
        print("  â€¢ ì˜¬ë¦¬ë¸Œìœ  ë“œë ˆì‹± 1ìŠ¤í‘¼ (120kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 35g, íƒ„ìˆ˜í™”ë¬¼ 40g, ì§€ë°© 14g")
        
        print("\nğŸŒ™ ì €ë… (ì•½ 450kcal)")
        print("  â€¢ í˜„ë¯¸ë°¥ 1/2ê³µê¸° (150kcal)")
        print("  â€¢ ìƒì„ êµ¬ì´ (ê³ ë“±ì–´ ë˜ëŠ” ì—°ì–´) 150g (250kcal)")
        print("  â€¢ ëœì¥ì°Œê°œ 1ì¸ë¶„ (50kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 30g, íƒ„ìˆ˜í™”ë¬¼ 35g, ì§€ë°© 12g")
        
        print("\nğŸ ê°„ì‹ (ì•½ 200kcal)")
        print("  â€¢ ê·¸ë¦­ìš”ê±°íŠ¸ ë¬´ì§€ë°© 150g (100kcal)")
        print("  â€¢ ì•„ëª¬ë“œ 10ì•Œ (70kcal)")
        print("  â€¢ ì‚¬ê³¼ 1/2ê°œ (30kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 12g, íƒ„ìˆ˜í™”ë¬¼ 15g, ì§€ë°© 8g")
        
        print("\nğŸ“Š í•˜ë£¨ ì´ê³„: ì•½ 1,550kcal")
        print("  ë‹¨ë°±ì§ˆ: 97g | íƒ„ìˆ˜í™”ë¬¼: 135g | ì§€ë°©: 42g")
    
    def _print_muscle_gain_meal(self):
        """ê·¼ìœ¡ ì¦ê°€ ì‹ë‹¨"""
        print("\n" + "-" * 60)
        print("ì˜ˆì‹œ í•˜ë£¨ ì‹ë‹¨ (ê·¼ìœ¡ ì¦ê°€)")
        print("-" * 60)
        
        print("\nğŸŒ… ì•„ì¹¨ (ì•½ 550kcal)")
        print("  â€¢ í˜„ë¯¸ë°¥ 1ê³µê¸° (300kcal)")
        print("  â€¢ ê³„ë€ 3ê°œ (210kcal)")
        print("  â€¢ ê¹€ì¹˜ì°Œê°œ 1ì¸ë¶„ (80kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 28g, íƒ„ìˆ˜í™”ë¬¼ 60g, ì§€ë°© 12g")
        
        print("\nâ˜€ï¸ ì ì‹¬ (ì•½ 700kcal)")
        print("  â€¢ í˜„ë¯¸ë°¥ 1ê³µê¸° (300kcal)")
        print("  â€¢ ë‹­ê°€ìŠ´ì‚´ 200g (220kcal)")
        print("  â€¢ ê³ êµ¬ë§ˆ ì¤‘ 1ê°œ (150kcal)")
        print("  â€¢ ìƒëŸ¬ë“œ (30kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 50g, íƒ„ìˆ˜í™”ë¬¼ 85g, ì§€ë°© 8g")
        
        print("\nğŸŒ™ ì €ë… (ì•½ 650kcal)")
        print("  â€¢ í˜„ë¯¸ë°¥ 1ê³µê¸° (300kcal)")
        print("  â€¢ ì†Œê³ ê¸° ë“±ì‹¬ 150g (300kcal)")
        print("  â€¢ ëœì¥ì°Œê°œ 1ì¸ë¶„ (50kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 40g, íƒ„ìˆ˜í™”ë¬¼ 55g, ì§€ë°© 18g")
        
        print("\nğŸ ê°„ì‹/ìš´ë™ ì „í›„ (ì•½ 500kcal)")
        print("  â€¢ ë‹¨ë°±ì§ˆ ì‰ì´í¬ (30g ë‹¨ë°±ì§ˆ) (150kcal)")
        print("  â€¢ ë°”ë‚˜ë‚˜ 2ê°œ (200kcal)")
        print("  â€¢ ë•…ì½©ë²„í„° 2ìŠ¤í‘¼ (150kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 35g, íƒ„ìˆ˜í™”ë¬¼ 55g, ì§€ë°© 12g")
        
        print("\nğŸ“Š í•˜ë£¨ ì´ê³„: ì•½ 2,400kcal")
        print("  ë‹¨ë°±ì§ˆ: 153g | íƒ„ìˆ˜í™”ë¬¼: 255g | ì§€ë°©: 50g")
    
    def _print_recomp_meal(self):
        """ë°”ë”” ë¦¬ì»´í¬ì§€ì…˜ ì‹ë‹¨"""
        print("\n" + "-" * 60)
        print("ì˜ˆì‹œ í•˜ë£¨ ì‹ë‹¨ (ì²´ì¤‘ ê°ëŸ‰ + ê·¼ìœ¡ ì¦ê°€)")
        print("-" * 60)
        
        print("\nğŸŒ… ì•„ì¹¨ (ì•½ 450kcal)")
        print("  â€¢ í˜„ë¯¸ë°¥ 2/3ê³µê¸° (200kcal)")
        print("  â€¢ ê³„ë€ 2ê°œ + ê³„ë€í°ì 2ê°œ (160kcal)")
        print("  â€¢ ê¹€ì¹˜ì°Œê°œ 1ì¸ë¶„ (80kcal)")
        print("  â€¢ ë°©ìš¸í† ë§ˆí†  10ê°œ (10kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 25g, íƒ„ìˆ˜í™”ë¬¼ 50g, ì§€ë°© 10g")
        
        print("\nâ˜€ï¸ ì ì‹¬ (ì•½ 550kcal)")
        print("  â€¢ í˜„ë¯¸ë°¥ 2/3ê³µê¸° (200kcal)")
        print("  â€¢ ë‹­ê°€ìŠ´ì‚´ 150g (165kcal)")
        print("  â€¢ ê³ êµ¬ë§ˆ ì¤‘ 1ê°œ (150kcal)")
        print("  â€¢ ìƒëŸ¬ë“œ + ë°œì‚¬ë¯¹ ë“œë ˆì‹± (35kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 40g, íƒ„ìˆ˜í™”ë¬¼ 65g, ì§€ë°© 6g")
        
        print("\nğŸŒ™ ì €ë… (ì•½ 500kcal)")
        print("  â€¢ í˜„ë¯¸ë°¥ 2/3ê³µê¸° (200kcal)")
        print("  â€¢ ìƒì„ êµ¬ì´ (ì—°ì–´) 150g (250kcal)")
        print("  â€¢ ëœì¥ì°Œê°œ 1ì¸ë¶„ (50kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 35g, íƒ„ìˆ˜í™”ë¬¼ 45g, ì§€ë°© 14g")
        
        print("\nğŸ ê°„ì‹ (ì•½ 300kcal)")
        print("  â€¢ ê·¸ë¦­ìš”ê±°íŠ¸ ë¬´ì§€ë°© 200g (130kcal)")
        print("  â€¢ í”„ë¡œí‹´ë°” 1ê°œ (150kcal)")
        print("  â€¢ ë¸”ë£¨ë² ë¦¬ í•œì¤Œ (20kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 25g, íƒ„ìˆ˜í™”ë¬¼ 25g, ì§€ë°© 8g")
        
        print("\nğŸ“Š í•˜ë£¨ ì´ê³„: ì•½ 1,800kcal")
        print("  ë‹¨ë°±ì§ˆ: 125g | íƒ„ìˆ˜í™”ë¬¼: 185g | ì§€ë°©: 38g")
    
    def _print_maintenance_meal(self):
        """ì²´ì¤‘ ìœ ì§€ ì‹ë‹¨"""
        print("\n" + "-" * 60)
        print("ì˜ˆì‹œ í•˜ë£¨ ì‹ë‹¨ (ì²´ì¤‘ ìœ ì§€ / ê±´ê°• ê´€ë¦¬)")
        print("-" * 60)
        
        print("\nğŸŒ… ì•„ì¹¨ (ì•½ 500kcal)")
        print("  â€¢ í˜„ë¯¸ë°¥ 1ê³µê¸° (300kcal)")
        print("  â€¢ ê³„ë€ 2ê°œ (140kcal)")
        print("  â€¢ ê¹€ì¹˜ì°Œê°œ 1ì¸ë¶„ (80kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 22g, íƒ„ìˆ˜í™”ë¬¼ 55g, ì§€ë°© 10g")
        
        print("\nâ˜€ï¸ ì ì‹¬ (ì•½ 600kcal)")
        print("  â€¢ í˜„ë¯¸ë°¥ 1ê³µê¸° (300kcal)")
        print("  â€¢ ë‹­ê°€ìŠ´ì‚´ 150g ë˜ëŠ” ë‘ë¶€ 1ëª¨ (180kcal)")
        print("  â€¢ ê³ êµ¬ë§ˆ ì‘ì€ê²ƒ 1ê°œ (100kcal)")
        print("  â€¢ ìƒëŸ¬ë“œ (20kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 35g, íƒ„ìˆ˜í™”ë¬¼ 75g, ì§€ë°© 8g")
        
        print("\nğŸŒ™ ì €ë… (ì•½ 550kcal)")
        print("  â€¢ í˜„ë¯¸ë°¥ 1ê³µê¸° (300kcal)")
        print("  â€¢ ìƒì„  ë˜ëŠ” ê³ ê¸° 150g (200kcal)")
        print("  â€¢ ëœì¥ì°Œê°œ 1ì¸ë¶„ (50kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 35g, íƒ„ìˆ˜í™”ë¬¼ 50g, ì§€ë°© 12g")
        
        print("\nğŸ ê°„ì‹ (ì•½ 250kcal)")
        print("  â€¢ ê³¼ì¼ (ë°”ë‚˜ë‚˜, ì‚¬ê³¼ ë“±) (100kcal)")
        print("  â€¢ ê²¬ê³¼ë¥˜ í•œì¤Œ (100kcal)")
        print("  â€¢ ìš°ìœ  200ml (50kcal)")
        print("  âœ ë‹¨ë°±ì§ˆ 10g, íƒ„ìˆ˜í™”ë¬¼ 30g, ì§€ë°© 10g")
        
        print("\nğŸ“Š í•˜ë£¨ ì´ê³„: ì•½ 1,900kcal")
        print("  ë‹¨ë°±ì§ˆ: 102g | íƒ„ìˆ˜í™”ë¬¼: 210g | ì§€ë°©: 40g")
    
    def print_weight_guide(self):
        """ë¬´ê²Œ ê°€ì´ë“œë¼ì¸ ì¶œë ¥"""
        print("\n" + "=" * 60)
        print("âš–ï¸  ë¬´ê²Œ ê°€ì´ë“œë¼ì¸")
        print("=" * 60)
        
        print(f"\nğŸ’ª ì„±ë³„: {self.user.gender}")
        print(f"ğŸ“Š ì²´ì¤‘: {self.user.weight}kg")
        print(f"ğŸ¯ ê¶Œì¥ ë°˜ë³µ íšŸìˆ˜: {self.rep_description}")
        
        print("\n" + "-" * 60)
        print("ì£¼ìš” ìš´ë™ë³„ ì¶”ì²œ ë¬´ê²Œ (kg)")
        print("-" * 60)
        
        # ì£¼ìš” ìš´ë™ ëª©ë¡
        major_exercises = [
            "ë°”ë²¨ ìŠ¤ì¿¼íŠ¸",
            "ë°ë“œë¦¬í”„íŠ¸",
            "ë²¤ì¹˜ í”„ë ˆìŠ¤",
            "ìˆ„ë” í”„ë ˆìŠ¤",
            "ë« í’€ë‹¤ìš´",
            "ì‹œí‹°ë“œ ë¡œìš°",
            "ë°”ë²¨ ì»¬"
        ]
        
        for exercise in major_exercises:
            weights = self.get_weight_recommendation(exercise)
            if weights:
                print(f"\n  â€¢ {exercise}")
                print(f"    - ì´ˆê¸‰: {weights['ì´ˆê¸‰']}kg")
                print(f"    - ì¤‘ê¸‰: {weights['ì¤‘ê¸‰']}kg")
                print(f"    - ê³ ê¸‰: {weights['ê³ ê¸‰']}kg")
        
        print("\n" + "-" * 60)
        print("ğŸ“Œ ë¬´ê²Œ ì„ íƒ ê°€ì´ë“œ")
        print("-" * 60)
        
        if self.user.gender == "ë‚¨ì„±":
            print("\n  ë‚¨ì„± (ê³ ê°•ë„ ì €ë°˜ë³µ):")
            print("  â€¢ ëª©í‘œ ë°˜ë³µ íšŸìˆ˜ì˜ ë§ˆì§€ë§‰ 1-2ê°œê°€ í˜ë“¤ì–´ì•¼ í•©ë‹ˆë‹¤")
            print("  â€¢ ì„¸íŠ¸ ë§ˆì§€ë§‰ì— ë” ì´ìƒ ë“¤ ìˆ˜ ì—†ëŠ” ë¬´ê²Œê°€ ì ì ˆí•©ë‹ˆë‹¤")
            print("  â€¢ ê·¼ë ¥ ì¦ê°€ê°€ ëª©í‘œë¼ë©´ ë” ë¬´ê±°ìš´ ë¬´ê²Œë¡œ ë„ì „í•˜ì„¸ìš”")
        else:
            print("\n  ì—¬ì„± (ì €ê°•ë„ ê³ ë°˜ë³µ):")
            print("  â€¢ ëª©í‘œ ë°˜ë³µ íšŸìˆ˜ë¥¼ ì™„ë£Œí•  ìˆ˜ ìˆë˜, ë§ˆì§€ë§‰ 2-3ê°œê°€ ì•½ê°„ í˜ë“¤ì–´ì•¼ í•©ë‹ˆë‹¤")
            print("  â€¢ ì„¸íŠ¸ í›„ 2-3íšŒ ë” í•  ìˆ˜ ìˆëŠ” ì •ë„ì˜ ë¬´ê²Œê°€ ì ì ˆí•©ë‹ˆë‹¤")
            print("  â€¢ ê·¼ì§€êµ¬ë ¥ê³¼ íƒ„íƒ„í•œ ê·¼ìœ¡ ë¼ì¸ì´ ëª©í‘œì…ë‹ˆë‹¤")
        
        print("\n  ê³µí†µ ì›ì¹™:")
        print("  â€¢ ì²˜ìŒì—ëŠ” ê°€ë²¼ìš´ ë¬´ê²Œë¡œ ì‹œì‘í•˜ì—¬ ìì„¸ë¥¼ ìµíˆì„¸ìš”")
        print("  â€¢ ë§¤ì£¼ 2.5-5kgì”© ì ì§„ì ìœ¼ë¡œ ì¦ê°€ì‹œí‚¤ì„¸ìš”")
        print("  â€¢ ìì„¸ê°€ ííŠ¸ëŸ¬ì§€ë©´ ë¬´ê²Œë¥¼ ì¤„ì´ì„¸ìš”")
        print("  â€¢ ìœ„ ë¬´ê²ŒëŠ” ì°¸ê³ ìš©ì´ë©°, ê°œì¸ ì²´ë ¥ì— ë§ê²Œ ì¡°ì ˆí•˜ì„¸ìš”")
        
        print("\n" + "=" * 60)
    
    def print_cardio_guide(self):
        """ìœ ì‚°ì†Œ ìš´ë™ ê°€ì´ë“œ ì¶œë ¥"""
        print("\n" + "=" * 60)
        print("ğŸƒ ìœ ì‚°ì†Œ ìš´ë™ ê°€ì´ë“œ")
        print("=" * 60)
        
        cardio = self.get_cardio_details()
        
        print(f"\nğŸ¯ ëª©í‘œ: {self.goal}")
        print(f"ğŸ“Š ìµœëŒ€ ì‹¬ë°•ìˆ˜: {cardio['ìµœëŒ€_ì‹¬ë°•ìˆ˜']}")
        print(f"ğŸ’“ ëª©í‘œ ì‹¬ë°•ìˆ˜: {cardio['ëª©í‘œ_ì‹¬ë°•ìˆ˜']}")
        print(f"âš¡ ê°•ë„: {cardio['ê°•ë„']}")
        print(f"ğŸ‹ï¸ ìœ í˜•: {cardio['ìœ í˜•']}")
        print(f"â±  ê¶Œì¥ ì‹œê°„: {cardio['ê¶Œì¥_ì‹œê°„']}")
        print(f"ğŸ’¡ ì„¤ëª…: {cardio['ì„¤ëª…']}")
        
        print("\n" + "-" * 60)
        print("ğŸ¯ ê¸°êµ¬ë³„ êµ¬ì²´ì ì¸ ìš´ë™ ì„¤ì •")
        print("-" * 60)
        print("ë³¸ì¸ì˜ ì²´ë ¥ ìˆ˜ì¤€ì— ë§ëŠ” ë‹¨ê³„ë¥¼ ì„ íƒí•˜ì„¸ìš”\n")
        
        equipment_details = cardio.get('ê¸°êµ¬ë³„_ìƒì„¸ì„¤ì •', {})
        
        for equipment_name, settings in equipment_details.items():
            print(f"\nğŸ’ª {equipment_name}")
            print("  " + "â”€" * 55)
            print(f"  ğŸŸ¢ ì´ˆê¸‰ì (ìš´ë™ ê²½í—˜ 3ê°œì›” ë¯¸ë§Œ)")
            print(f"     {settings['ì´ˆê¸‰']}")
            print(f"\n  ğŸŸ¡ ì¤‘ê¸‰ì (ìš´ë™ ê²½í—˜ 3-12ê°œì›”)")
            print(f"     {settings['ì¤‘ê¸‰']}")
            print(f"\n  ğŸ”´ ê³ ê¸‰ì (ìš´ë™ ê²½í—˜ 1ë…„ ì´ìƒ)")
            print(f"     {settings['ê³ ê¸‰']}")
            print(f"\n  ğŸ’¡ íŒ: {settings['íŒ']}")
        
        print("\n" + "-" * 60)
        print("ğŸ“– ìš©ì–´ ì„¤ëª…")
        print("-" * 60)
        print("\n  â€¢ RPM (Revolutions Per Minute): ë¶„ë‹¹ íšŒì „ìˆ˜ - ì‚¬ì´í´ì—ì„œ í˜ë‹¬ì„ ë°ŸëŠ” ì†ë„")
        print("  â€¢ SPM (Strokes Per Minute): ë¶„ë‹¹ ìŠ¤íŠ¸ë¡œí¬ ìˆ˜ - ë¡œì‰ë¨¸ì‹ ì—ì„œ ë‹¹ê¸°ëŠ” íšŸìˆ˜")
        print("  â€¢ ì¸í´ë¼ì¸: ëŸ°ë‹ë¨¸ì‹  ê²½ì‚¬ë„ (% ë˜ëŠ” ê°ë„)")
        
        print("\n" + "-" * 60)
        print("ğŸ“Œ ì‹¬ë°•ìˆ˜ ì¸¡ì • ë°©ë²•")
        print("-" * 60)
        print("\n  1. ìŠ¤ë§ˆíŠ¸ì›Œì¹˜/ë°´ë“œ ì°©ìš©")
        print("  2. ìš´ë™ ê¸°êµ¬ ë‚´ì¥ ì‹¬ë°•ìˆ˜ ì„¼ì„œ")
        print("  3. ëª©ì´ë‚˜ ì†ëª© ë§¥ë°• ì§ì ‘ ì¸¡ì • (15ì´ˆ Ã— 4)")
        print("  4. ìê°ì  ê°•ë„ (RPE): 10ì  ë§Œì ì— 7-8ì  ìˆ˜ì¤€")
        
        print("\n" + "-" * 60)
        print("ğŸ’¡ ìœ ì‚°ì†Œ ìš´ë™ íŒ")
        print("-" * 60)
        
        if "ì²´ì¤‘ ê°ëŸ‰" in self.goal and "ê·¼ìœ¡ ì¦ê°€" not in self.goal:
            print("\n  ì²´ì¤‘ ê°ëŸ‰ ìœ ì‚°ì†Œ:")
            print("  â€¢ ëŒ€í™”ê°€ ê°€ëŠ¥í•œ ì •ë„ì˜ ê°•ë„ ìœ ì§€")
            print("  â€¢ ë„ˆë¬´ í˜ë“¤ë©´ ì§€ë°© ëŒ€ì‹  ê·¼ìœ¡ì´ ë¶„í•´ë©ë‹ˆë‹¤")
            print("  â€¢ ì¼ì •í•œ í˜ì´ìŠ¤ë¡œ ì˜¤ë˜ í•˜ëŠ” ê²ƒì´ ì¤‘ìš”")
            print("  â€¢ ì•„ì¹¨ ê³µë³µ ìœ ì‚°ì†Œê°€ íš¨ê³¼ì  (ì„ íƒ)")
            print("  â€¢ ì‹¬ë°•ìˆ˜ ëª¨ë‹ˆí„°ë§ìœ¼ë¡œ ëª©í‘œ êµ¬ê°„ ìœ ì§€")
        else:
            print("\n  HIIT (ê³ ê°•ë„ ì¸í„°ë²Œ):")
            print("  â€¢ ì „ë ¥ ì§ˆì£¼ 20-30ì´ˆ + íœ´ì‹ 30-60ì´ˆ ë°˜ë³µ")
            print("  â€¢ ë•€ì´ ë§ì´ ë‚˜ê³  ìˆ¨ì´ ê°€ìœ ê²ƒì´ ì •ìƒ")
            print("  â€¢ ì£¼ 2-3íšŒê°€ ì ë‹¹ (ê³¼í›ˆë ¨ ì£¼ì˜)")
            print("  â€¢ ê¸°ì´ˆëŒ€ì‚¬ëŸ‰ ì¦ê°€ íš¨ê³¼ (ìš´ë™ í›„ 24-48ì‹œê°„)")
            print("  â€¢ ì›Œë°ì—…/ì¿¨ë‹¤ìš´ ê° 5ë¶„ì”© í•„ìˆ˜")
        
        print("\n" + "=" * 60)
    
    def print_medical_guidance(self):
        """ì§€ë³‘ ì£¼ì˜ì‚¬í•­ ì¶œë ¥"""
        if not self.medical_conditions:
            return
        
        print("\n" + "=" * 60)
        print("ğŸ’Š ì§€ë³‘ ê´€ë ¨ ìš´ë™ ì£¼ì˜ì‚¬í•­")
        print("=" * 60)
        
        print(f"\ní˜„ì¬ ì§€ë³‘: {', '.join(self.medical_conditions)}")
        
        precautions = self.get_medical_precautions()
        
        for condition in self.medical_conditions:
            if condition in precautions:
                print("\n" + "â–ˆ" * 60)
                print(f"  {condition} ê´€ë ¨ ì£¼ì˜ì‚¬í•­")
                print("â–ˆ" * 60)
                
                prec = precautions[condition]
                
                print("\nâš ï¸ ì£¼ì˜ì‚¬í•­:")
                for item in prec["ì£¼ì˜ì‚¬í•­"]:
                    print(f"  â€¢ {item}")
                
                print("\nâœ… ê¶Œì¥ ìš´ë™:")
                for exercise in prec["ê¶Œì¥_ìš´ë™"]:
                    print(f"  âœ“ {exercise}")
                
                print("\nğŸš« í”¼í•´ì•¼ í•  ìš´ë™:")
                for exercise in prec["í”¼í• _ìš´ë™"]:
                    print(f"  âœ— {exercise}")
                
                # ì¶”ê°€ ì •ë³´
                if "ìš´ë™_ì „_ì„­ì·¨" in prec:
                    print("\nğŸ ìš´ë™ ì „ ì„­ì·¨ ê¶Œì¥:")
                    for food in prec["ìš´ë™_ì „_ì„­ì·¨"]:
                        print(f"  â€¢ {food}")
                
                if "ìš´ë™_ì‹œê°„" in prec:
                    print(f"\nâ° ìš´ë™ ì‹œê°„: {prec['ìš´ë™_ì‹œê°„']}")
                
                if "ìš´ë™_ê°•ë„" in prec:
                    print(f"\nğŸ’ª ìš´ë™ ê°•ë„: {prec['ìš´ë™_ê°•ë„']}")
                
                if "ìˆ˜ë¶„" in prec:
                    print(f"\nğŸ’§ ìˆ˜ë¶„ ì„­ì·¨: {prec['ìˆ˜ë¶„']}")
                
                if "ì‘ê¸‰_ìƒí™©" in prec:
                    print(f"\nğŸš¨ ì‘ê¸‰ ìƒí™©: {prec['ì‘ê¸‰_ìƒí™©']}")
        
        print("\n" + "=" * 60)
        print("âš ï¸  ì¤‘ìš” ì•ˆë‚´")
        print("=" * 60)
        print("\n  â€¢ ìœ„ ë‚´ìš©ì€ ì¼ë°˜ì ì¸ ê°€ì´ë“œë¼ì¸ì…ë‹ˆë‹¤")
        print("  â€¢ ë°˜ë“œì‹œ ë‹´ë‹¹ ì˜ì‚¬ì™€ ìƒë‹´ í›„ ìš´ë™ì„ ì‹œì‘í•˜ì„¸ìš”")
        print("  â€¢ ìš´ë™ ì¤‘ ì´ìƒ ì¦ìƒ ë°œìƒ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨í•˜ì„¸ìš”")
        print("  â€¢ ì•½ë¬¼ ë³µìš© ì¤‘ì´ë¼ë©´ ìš´ë™ ì‹œê°„ê³¼ ì•½ë¬¼ ë³µìš© ì‹œê°„ ì¡°ì ˆ í•„ìš”")
        print("  â€¢ ì •ê¸°ì ìœ¼ë¡œ ê±´ê°• ìƒíƒœë¥¼ ì²´í¬í•˜ì„¸ìš”")
        
        print("\n" + "=" * 60)
    
    def print_pain_guidance(self):
        """í†µì¦ ë¶€ìœ„ ì£¼ì˜ì‚¬í•­ ë° ì¬í™œ ìš´ë™ ì¶œë ¥"""
        if not self.pain_areas:
            return
        
        print("\n" + "=" * 60)
        print("âš ï¸  í†µì¦ ë¶€ìœ„ ì£¼ì˜ì‚¬í•­ ë° ì¬í™œ ìš´ë™")
        print("=" * 60)
        
        print(f"\ní†µì¦ ë¶€ìœ„: {', '.join(self.pain_areas)}")
        
        modifications, rehab_exercises = self.get_pain_modifications()
        
        for area in self.pain_areas:
            if area in modifications:
                print("\n" + "â–ˆ" * 60)
                print(f"  {area} ê´€ë ¨ ì£¼ì˜ì‚¬í•­")
                print("â–ˆ" * 60)
                
                mod = modifications[area]
                
                print("\nğŸš« í”¼í•´ì•¼ í•  ìš´ë™:")
                for exercise in mod["í”¼í•´ì•¼_í• _ìš´ë™"]:
                    print(f"  âœ— {exercise}")
                
                print("\nâš ï¸ ì£¼ì˜ê°€ í•„ìš”í•œ ìš´ë™:")
                for exercise in mod["ì£¼ì˜_ìš´ë™"]:
                    print(f"  âš¡ {exercise}")
                
                print("\nâœ… ëŒ€ì²´ ìš´ë™:")
                for exercise in mod["ëŒ€ì²´_ìš´ë™"]:
                    print(f"  âœ“ {exercise}")
                
                if area in rehab_exercises:
                    print(f"\nğŸ’Š {area} ì¬í™œ/ê°•í™” ìš´ë™:")
                    print("-" * 60)
                    for exercise in rehab_exercises[area]:
                        if "ì‹œê°„" in exercise:
                            print(f"  â€¢ {exercise['ì´ë¦„']}")
                            print(f"    - {exercise['ì„¸íŠ¸']}ì„¸íŠ¸ Ã— {exercise['ì‹œê°„']}, íœ´ì‹ {exercise['íœ´ì‹']}")
                        elif "ê°" in exercise:
                            print(f"  â€¢ {exercise['ì´ë¦„']}")
                            print(f"    - {exercise['ì„¸íŠ¸']}ì„¸íŠ¸ Ã— {exercise['ê°']}")
                        else:
                            print(f"  â€¢ {exercise['ì´ë¦„']}")
                            print(f"    - {exercise['ì„¸íŠ¸']}ì„¸íŠ¸ Ã— {exercise['íšŸìˆ˜']}, íœ´ì‹ {exercise['íœ´ì‹']}")
        
        print("\n" + "=" * 60)
        print("âš ï¸  ì¤‘ìš” ì•ˆë‚´")
        print("=" * 60)
        print("\n  â€¢ ì¬í™œ ìš´ë™ì€ ë§¤ìš° ê°€ë²¼ìš´ ë¬´ê²Œë‚˜ ë§¨ëª¸ìœ¼ë¡œ ì‹œì‘í•˜ì„¸ìš”")
        print("  â€¢ í†µì¦ì´ ì‹¬í•˜ê±°ë‚˜ ì§€ì†ë˜ë©´ ì „ë¬¸ì˜ ìƒë‹´ì´ í•„ìš”í•©ë‹ˆë‹¤")
        print("  â€¢ ì¬í™œ ìš´ë™ì€ ì£¼ 3-4íšŒ, ë³¸ ìš´ë™ ì „ ë˜ëŠ” íœ´ì‹ì¼ì— ìˆ˜í–‰")
        print("  â€¢ ìš´ë™ ì¤‘ í†µì¦ì´ ëŠê»´ì§€ë©´ ì¦‰ì‹œ ì¤‘ë‹¨í•˜ì„¸ìš”")
        print("  â€¢ í˜¸ì „ë˜ë©´ ì ì§„ì ìœ¼ë¡œ ê°•ë„ë¥¼ ë†’ì´ì„¸ìš”")
        
        print("\n" + "=" * 60)
    
    def print_tips(self):
        """ìš´ë™ íŒ ì¶œë ¥"""
        print("\n" + "=" * 60)
        print("ğŸ’¡ ìš´ë™ ì„±ê³µì„ ìœ„í•œ íŒ")
        print("=" * 60)
        
        tips = [
            "ì›Œë°ì—…ì€ í•„ìˆ˜! ìš´ë™ ì „ 5-10ë¶„ ê°€ë²¼ìš´ ìœ ì‚°ì†Œì™€ ë™ì  ìŠ¤íŠ¸ë ˆì¹­",
            "ìš´ë™ í›„ ì¿¨ë‹¤ìš´ê³¼ ì •ì  ìŠ¤íŠ¸ë ˆì¹­ìœ¼ë¡œ ê·¼ìœ¡ íšŒë³µ ì´‰ì§„",
            "ì¶©ë¶„í•œ ìˆ˜ë©´ (7-8ì‹œê°„)ì€ ê·¼ìœ¡ íšŒë³µê³¼ ì„±ì¥ì— í•„ìˆ˜ì ì…ë‹ˆë‹¤",
            "ì ì§„ì  ê³¼ë¶€í•˜: ë§¤ì£¼ ì¡°ê¸ˆì”© ë¬´ê²Œë‚˜ íšŸìˆ˜ë¥¼ ëŠ˜ë ¤ê°€ì„¸ìš”",
            "ìš´ë™ ì¼ì§€ë¥¼ ì‘ì„±í•˜ì—¬ ì§„í–‰ ìƒí™©ì„ ì¶”ì í•˜ì„¸ìš”",
            "í†µì¦ì´ ëŠê»´ì§€ë©´ ì¦‰ì‹œ ì¤‘ë‹¨í•˜ê³  íœ´ì‹ì„ ì·¨í•˜ì„¸ìš”",
            "ì¼ì£¼ì¼ì— 2-3ì¼ì€ ì¶©ë¶„í•œ íœ´ì‹ì¼ì„ ê°€ì§€ì„¸ìš”"
        ]
        
        for idx, tip in enumerate(tips, 1):
            print(f"\n  {idx}. {tip}")
        
        print("\n" + "=" * 60)


def main():
    """ë©”ì¸ ì‹¤í–‰ í•¨ìˆ˜"""
    
    # UTF-8 ì¸ì½”ë”© ì„¤ì •
    import sys
    import io
    if sys.platform == "win32":
        sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')
    
    print("\n")
    print("â•”" + "â•" * 58 + "â•—")
    print("â•‘" + " " * 15 + "FitPlan AI ë°ëª¨" + " " * 27 + "â•‘")
    print("â•‘" + " " * 10 + "ê°œì¸ ë§ì¶¤í˜• ìš´ë™ í”Œëœ ìƒì„± ì„œë¹„ìŠ¤" + " " * 12 + "â•‘")
    print("â•š" + "â•" * 58 + "â•")
    
    print("\ní™˜ì˜í•©ë‹ˆë‹¤! ë§ì¶¤í˜• ìš´ë™ í”Œëœì„ ìƒì„±í•˜ê¸° ìœ„í•´ ëª‡ ê°€ì§€ ì§ˆë¬¸ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.")
    
    # 1ë‹¨ê³„: í•„ìˆ˜ ì •ë³´ ìˆ˜ì§‘
    height, weight, age, gender = UserInput.get_required_info()
    
    # 2ë‹¨ê³„: ì„ íƒ ì •ë³´ ìˆ˜ì§‘
    body_fat, skeletal_muscle = UserInput.get_optional_info()
    
    # ì‚¬ìš©ì í”„ë¡œí•„ ìƒì„±
    user = UserProfile(
        height=height,
        weight=weight,
        age=age,
        gender=gender,
        body_fat_percentage=body_fat,
        skeletal_muscle_mass=skeletal_muscle
    )
    
    # í”„ë¡œí•„ ì¶œë ¥
    user.print_profile()
    
    # 3ë‹¨ê³„: ìš´ë™ ëª©í‘œ ì„ íƒ
    goal = UserInput.get_fitness_goal()
    
    # 4ë‹¨ê³„: ìš´ë™ í™˜ê²½ ì„ íƒ
    environment = UserInput.get_workout_environment()
    
    # 5ë‹¨ê³„: ì£¼ê°„ ìš´ë™ ë¹ˆë„
    frequency = UserInput.get_workout_frequency()
    
    # 6ë‹¨ê³„: 1íšŒ ìš´ë™ ì‹œê°„
    duration = UserInput.get_workout_duration()
    
    # 7ë‹¨ê³„: ì§€ë³‘ í™•ì¸
    medical_conditions = UserInput.get_medical_conditions()
    
    # 8ë‹¨ê³„: í†µì¦ ë¶€ìœ„ í™•ì¸
    pain_areas = UserInput.get_pain_areas()
    
    # ì…ë ¥ í™•ì¸
    print("\n" + "=" * 60)
    print("âœ… ì…ë ¥ ì •ë³´ í™•ì¸")
    print("=" * 60)
    print(f"\nğŸ¯ ìš´ë™ ëª©í‘œ: {goal}")
    print(f"ğŸ‹ï¸ ìš´ë™ í™˜ê²½: {environment}")
    print(f"ğŸ“… ì£¼ê°„ ìš´ë™ ë¹ˆë„: ì£¼ {frequency}íšŒ")
    print(f"â±  1íšŒ ìš´ë™ ì‹œê°„: {duration}ë¶„")
    if medical_conditions:
        print(f"ğŸ’Š ì§€ë³‘: {', '.join(medical_conditions)}")
    else:
        print(f"ğŸ’Š ì§€ë³‘: ì—†ìŒ")
    if pain_areas:
        print(f"âš ï¸  í†µì¦ ë¶€ìœ„: {', '.join(pain_areas)}")
    else:
        print(f"âš ï¸  í†µì¦ ë¶€ìœ„: ì—†ìŒ")
    
    confirm = input("\nì´ ì •ë³´ë¡œ í”Œëœì„ ìƒì„±í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n): ").strip().lower()
    
    if confirm != 'y' and confirm != 'yes' and confirm != '':
        print("\nâŒ í”Œëœ ìƒì„±ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.")
        return
    
    print("\nâ³ ë§ì¶¤í˜• ìš´ë™ í”Œëœì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...")
    
    # í”Œëœ ìƒì„±ê¸° ì´ˆê¸°í™”
    planner = FitnessPlanGenerator(user, goal, environment, frequency, duration, pain_areas, medical_conditions)
    
    # ì¶”ì²œ ëª©í‘œ ì¶œë ¥
    print("\n" + "=" * 60)
    print("ğŸ¯ AI ë¶„ì„ ê²°ê³¼")
    print("=" * 60)
    
    recommendations = planner.recommend_goal()
    if recommendations:
        print("\nê·€í•˜ì˜ ì‹ ì²´ ë¶„ì„ ê²°ê³¼, ë‹¤ìŒ ëª©í‘œë“¤ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤:")
        for idx, rec in enumerate(recommendations, 1):
            print(f"\n{idx}. {rec['ëª©í‘œ']}")
            print(f"   ìš°ì„ ìˆœìœ„: {rec['ìš°ì„ ìˆœìœ„']}")
            print(f"   ì´ìœ : {rec['ì´ìœ ']}")
    
    print("\n" + "=" * 60)
    
    # ì£¼ê°„ ìš´ë™ í”Œëœ ìƒì„± ë° ì¶œë ¥
    weekly_plan = planner.generate_weekly_plan()
    planner.print_weekly_plan(weekly_plan)
    
    # ì˜ì–‘ ê°€ì´ë“œ ì¶œë ¥
    planner.print_nutrition_guide()
    
    # ìš´ë™ íŒ ì¶œë ¥
    planner.print_tips()
    
    print("\n" + "=" * 60)
    print("âœ¨ FitPlan AIì™€ í•¨ê»˜ ê±´ê°•í•œ ë³€í™”ë¥¼ ì‹œì‘í•˜ì„¸ìš”! âœ¨")
    print("=" * 60)
    print("\nğŸ’¾ ì´ í”Œëœì„ ì €ì¥í•˜ê±°ë‚˜ ì¸ì‡„í•˜ì—¬ í™œìš©í•˜ì„¸ìš”!")
    print("ğŸ“Š ë§¤ì£¼ ì§„í–‰ ìƒí™©ì„ ê¸°ë¡í•˜ê³  í•„ìš”ì‹œ í”Œëœì„ ì¡°ì •í•˜ì„¸ìš”!")
    print("\n")


def test_mode():
    """í…ŒìŠ¤íŠ¸ ëª¨ë“œ - ì˜ˆì‹œ ë°ì´í„°ë¡œ ìë™ ì‹¤í–‰"""
    
    # UTF-8 ì¸ì½”ë”© ì„¤ì •
    import sys
    import io
    if sys.platform == "win32":
        sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')
    
    print("\n")
    print("â•”" + "â•" * 58 + "â•—")
    print("â•‘" + " " * 15 + "FitPlan AI ë°ëª¨" + " " * 27 + "â•‘")
    print("â•‘" + " " * 10 + "ê°œì¸ ë§ì¶¤í˜• ìš´ë™ í”Œëœ ìƒì„± ì„œë¹„ìŠ¤" + " " * 12 + "â•‘")
    print("â•š" + "â•" * 58 + "â•")
    
    print("\n[í…ŒìŠ¤íŠ¸ ëª¨ë“œ] ì˜ˆì‹œ ë°ì´í„°ë¡œ í”Œëœì„ ìƒì„±í•©ë‹ˆë‹¤.\n")
    
    # ì˜ˆì‹œ ë°ì´í„°
    print("=" * 60)
    print("ğŸ“ í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì ì •ë³´")
    print("=" * 60)
    print("í‚¤: 164cm")
    print("ëª¸ë¬´ê²Œ: 57kg")
    print("ë‚˜ì´: 25ì„¸")
    print("ì„±ë³„: ì—¬ì„±")
    print("ì²´ì§€ë°©ë¥ : 26%")
    print("ê³¨ê²©ê·¼ëŸ‰: 25kg")
    print("=" * 60)
    
    # ì‚¬ìš©ì í”„ë¡œí•„ ìƒì„±
    user = UserProfile(
        height=164,
        weight=57,
        age=25,
        gender="ì—¬ì„±",
        body_fat_percentage=26,
        skeletal_muscle_mass=25
    )
    
    # í”„ë¡œí•„ ì¶œë ¥
    user.print_profile()
    
    # í…ŒìŠ¤íŠ¸ìš© ëª©í‘œ ë° í™˜ê²½ ì„¤ì •
    goal = "ì²´ì¤‘ ê°ëŸ‰ + ê·¼ìœ¡ ì¦ê°€"
    environment = "í—¬ìŠ¤ì¥"
    frequency = 4
    duration = 60
    medical_conditions = ["ì €í˜ˆë‹¹"]  # í…ŒìŠ¤íŠ¸ìš© ì§€ë³‘
    pain_areas = ["ì†ëª©", "ë¬´ë¦"]  # í…ŒìŠ¤íŠ¸ìš© í†µì¦ ë¶€ìœ„
    
    print("\n" + "=" * 60)
    print("âœ… ìš´ë™ ê³„íš ì„¤ì •")
    print("=" * 60)
    print(f"\nğŸ¯ ìš´ë™ ëª©í‘œ: {goal}")
    print(f"ğŸ‹ï¸ ìš´ë™ í™˜ê²½: {environment}")
    print(f"ğŸ“… ì£¼ê°„ ìš´ë™ ë¹ˆë„: ì£¼ {frequency}íšŒ")
    print(f"â±  1íšŒ ìš´ë™ ì‹œê°„: {duration}ë¶„")
    print(f"ğŸ’Š ì§€ë³‘: {', '.join(medical_conditions) if medical_conditions else 'ì—†ìŒ'}")
    print(f"âš ï¸  í†µì¦ ë¶€ìœ„: {', '.join(pain_areas) if pain_areas else 'ì—†ìŒ'}")
    
    print("\nâ³ ë§ì¶¤í˜• ìš´ë™ í”Œëœì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...")
    
    # í”Œëœ ìƒì„±ê¸° ì´ˆê¸°í™”
    planner = FitnessPlanGenerator(user, goal, environment, frequency, duration, pain_areas, medical_conditions)
    
    # ì¶”ì²œ ëª©í‘œ ì¶œë ¥
    print("\n" + "=" * 60)
    print("ğŸ¯ AI ë¶„ì„ ê²°ê³¼")
    print("=" * 60)
    
    recommendations = planner.recommend_goal()
    if recommendations:
        print("\nê·€í•˜ì˜ ì‹ ì²´ ë¶„ì„ ê²°ê³¼, ë‹¤ìŒ ëª©í‘œë“¤ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤:")
        for idx, rec in enumerate(recommendations, 1):
            print(f"\n{idx}. {rec['ëª©í‘œ']}")
            print(f"   ìš°ì„ ìˆœìœ„: {rec['ìš°ì„ ìˆœìœ„']}")
            print(f"   ì´ìœ : {rec['ì´ìœ ']}")
    
    print("\n" + "=" * 60)
    
    # ì£¼ê°„ ìš´ë™ í”Œëœ ìƒì„± ë° ì¶œë ¥
    weekly_plan = planner.generate_weekly_plan()
    planner.print_weekly_plan(weekly_plan)
    
    # ì˜ì–‘ ê°€ì´ë“œ ì¶œë ¥
    planner.print_nutrition_guide()
    
    # ì˜ˆì‹œ ì‹ë‹¨ ì¶œë ¥
    planner.print_meal_plan()
    
    # ìœ ì‚°ì†Œ ìš´ë™ ê°€ì´ë“œ ì¶œë ¥
    planner.print_cardio_guide()
    
    # ë¬´ê²Œ ê°€ì´ë“œë¼ì¸ ì¶œë ¥
    planner.print_weight_guide()
    
    # ì§€ë³‘ ì£¼ì˜ì‚¬í•­ ì¶œë ¥
    planner.print_medical_guidance()
    
    # í†µì¦ ë¶€ìœ„ ì£¼ì˜ì‚¬í•­ ì¶œë ¥
    planner.print_pain_guidance()
    
    # ìš´ë™ íŒ ì¶œë ¥
    planner.print_tips()
    
    print("\n" + "=" * 60)
    print("âœ¨ FitPlan AIì™€ í•¨ê»˜ ê±´ê°•í•œ ë³€í™”ë¥¼ ì‹œì‘í•˜ì„¸ìš”! âœ¨")
    print("=" * 60)
    print("\nğŸ’¾ ì´ í”Œëœì„ ì €ì¥í•˜ê±°ë‚˜ ì¸ì‡„í•˜ì—¬ í™œìš©í•˜ì„¸ìš”!")
    print("ğŸ“Š ë§¤ì£¼ ì§„í–‰ ìƒí™©ì„ ê¸°ë¡í•˜ê³  í•„ìš”ì‹œ í”Œëœì„ ì¡°ì •í•˜ì„¸ìš”!")
    print("\n")


if __name__ == "__main__":
    import sys
    
    # ëª…ë ¹ì¤„ ì¸ìë¡œ í…ŒìŠ¤íŠ¸ ëª¨ë“œ ì‹¤í–‰
    if len(sys.argv) > 1 and sys.argv[1] == "test":
        test_mode()
    else:
        main()
