# FitPlan AI - 기능 요약서

## 🎯 완성된 기능 목록

### ✅ 1. 대화형 정보 수집
- **필수 정보**: 키, 몸무게, 나이(만 나이), 성별
- **선택 정보**: 체지방률, 골격근량 (없으면 자동 추정)
- **운동 목표**: 5가지 선택지
- **운동 환경**: 헬스장/홈트(장비 O/X)
- **운동 계획**: 주간 빈도 (3-7회), 1회 시간 (30-120분)
- **통증 부위**: 6개 부위 선택 가능

---

### ✅ 2. 신체 구성 분석
- BMI (체질량지수) 및 카테고리
- 체지방률 및 카테고리 (성별 구분)
- 제지방량 계산
- 골격근량 및 비율
- AI 추천 목표 (우선순위 포함)

---

### ✅ 3. 맞춤형 운동 플랜

#### 환경별 차별화
- **헬스장**: 바벨, 머신, 케이블 운동
- **홈트 (장비 있음)**: 덤벨, 밴드 운동
- **홈트 (장비 없음)**: 맨몸 운동

#### 빈도별 분할
- **주 3회**: 전신 운동
- **주 4회**: 상하체 분할
- **주 5회**: 상하체 분할 + 코어
- **주 6-7회**: PPL (Push/Pull/Legs) 2회 반복

#### 성별별 차별화
- **남성**: 고강도 저반복 (6-10회)
- **여성**: 저강도 고반복 (12-15회)

---

### ✅ 4. 영양 가이드

#### 과학적 계산
- **BMR**: Harris-Benedict 방정식
- **TDEE**: 활동 수준 반영
- **목표 칼로리**: 목표에 따라 자동 조절
  - 체중 감량: TDEE - 500kcal
  - 근육 증가: TDEE + 300kcal
  - 리컴포지션: TDEE - 200kcal

#### 영양소 비율
- 단백질: 체중 × 1.6-2.2g (목표에 따라 차이)
- 탄수화물: 목표에 따라 조절
- 지방: 체중 × 0.8-1.2g
- 수분: 체중 × 35ml

---

### ✅ 5. 예시 식단 ⭐ NEW

#### 4가지 목표별 식단 제공
1. **체중 감량** (약 1,550kcal)
2. **근육 증가** (약 2,400kcal)
3. **바디 리컴포지션** (약 1,800kcal)
4. **체중 유지** (약 1,900kcal)

#### 각 식단 구성
- 🌅 아침
- ☀️ 점심
- 🌙 저녁
- 🍎 간식

#### 제공 정보
- 각 음식의 칼로리
- 영양소 함량 (단백질/탄수화물/지방)
- 하루 총계
- 식단 팁

---

### ✅ 6. 유산소 운동 가이드 ⭐ NEW

#### 목표별 심박수 존
- **체중 감량**: 최대 심박수의 60-70% (지방 연소)
- **근육 증가/체력**: 최대 심박수의 80-90% (HIIT)
- **리컴포지션**: 최대 심박수의 65-75% (혼합)

#### 제공 정보
- 최대 심박수 (220 - 나이)
- 목표 심박수 범위
- 운동 강도 설명
- 유산소 유형 (지속형 vs HIIT)
- 추천 기구 (트레드밀, 사이클, 로잉머신 등)
- 권장 시간
- 심박수 측정 방법
- 목표별 운동 팁

#### 목표별 차이
**체중 감량 (지속형)**
- 강도: 중강도 (숨이 차기 직전, 대화 가능)
- 시간: 30-45분
- 원리: 지방을 주 에너지원으로 사용

**근육 증가/체력 (HIIT)**
- 강도: 고강도 (땀 많이, 대화 어려움)
- 시간: 15-25분 (전력 20초 + 휴식 40초)
- 원리: 기초대사량 증가 (운동 후 24-48시간 지속)

---

### ✅ 7. 무게 가이드

#### 체중 기반 무게 추천
- 초급, 중급, 고급 3단계
- 주요 7가지 운동별 제공

#### 성별별 차이 (중급 기준 예시)
| 운동 | 남성 70kg | 여성 57kg |
|------|-----------|-----------|
| 바벨 스쿼트 | 105kg | 45.6kg |
| 벤치 프레스 | 56kg | 22.8kg |
| 데드리프트 | 105kg | 45.6kg |
| 바벨 컬 | 21kg | 8.5kg |

#### 무게 선택 가이드
- 남성: 마지막 1-2회가 힘들어야 함
- 여성: 세트 후 2-3회 더 할 수 있어야 함
- 점진적 증가 원칙 (주당 2.5-5kg)

---

### ✅ 8. 통증 부위 관리 ⭐ NEW

#### 지원 부위 (6개)
1. **목/어깨**
2. **허리**
3. **무릎**
4. **손목**
5. **팔꿈치**
6. **발목**

#### 각 부위별 제공 정보

**🚫 피해야 할 운동**
- 해당 부위에 부담을 주는 운동 목록

**⚠️ 주의가 필요한 운동**
- 조심해서 수행해야 하는 운동 (각도 조절 등)

**✅ 대체 운동**
- 안전하게 수행 가능한 대체 운동

**💊 재활/강화 운동**
- 해당 부위를 강화하는 저강도 운동
- 세트, 횟수, 휴식 시간 포함
- 예: 손목 통증 → 전완근 컬, 손목 스트레칭

#### 예시: 손목 통증
- **피할 운동**: 바벨 컬, 푸시업(손바닥)
- **대체 운동**: 해머 컬, 너클 푸시업
- **재활 운동**: 전완근 컬, 손목 회전, 스트레칭

---

### ✅ 9. 운동 성공 팁
- 워밍업/쿨다운
- 수면의 중요성
- 점진적 과부하
- 운동 일지 작성
- 안전 수칙

---

## 📱 웹 애플리케이션

### 접속 방법
```
http://localhost:8501
```

### 탭 구성 (6-7개)
1. 📊 **신체 분석**
2. 💪 **운동 플랜**
3. 🍎 **영양 가이드**
4. 🍽️ **예시 식단**
5. 🏃 **유산소 가이드**
6. ⚖️ **무게 가이드**
7. ⚠️ **통증 주의사항** (통증 있을 경우만)
8. 💡 **운동 팁**

### 특징
- 실시간 대화형 인터페이스
- 반응형 디자인 (모바일 지원)
- 직관적인 UI/UX
- 예시 데이터 빠른 테스트

---

## 🖥️ Python 스크립트

### 1. fitness_plan_demo.py
- 핵심 기능 구현
- 테스트 모드 지원
```bash
python fitness_plan_demo.py test
```

### 2. my_fitness_plan.py
- 사용자 정보로 대화형 플랜 생성
```bash
python my_fitness_plan.py
```

### 3. demo_example.py
- 3가지 시나리오 비교
```bash
python demo_example.py
```

### 4. test_gender.py
- 성별별 차이 비교
```bash
python test_gender.py
```

---

## 📊 데이터 흐름

```
사용자 입력
  ↓
[필수] 키, 몸무게, 나이, 성별
  ↓
[선택] 체지방률, 골격근량
  ↓
[목표] 5가지 중 선택
  ↓
[환경] 헬스장/홈트 선택
  ↓
[계획] 빈도, 시간 설정
  ↓
[통증] 부위 선택 (선택)
  ↓
AI 분석
  ↓
맞춤형 플랜 생성
  ├─ 신체 분석
  ├─ 운동 플랜 (성별/환경/빈도 맞춤)
  ├─ 영양 가이드 (BMR, TDEE 계산)
  ├─ 예시 식단 (목표별)
  ├─ 유산소 가이드 (심박수, 강도)
  ├─ 무게 가이드 (체중 기반)
  ├─ 통증 주의사항 (해당시)
  └─ 운동 팁
```

---

## 💡 핵심 알고리즘

### 1. BMR 계산 (Harris-Benedict)
```
남성: 88.362 + (13.397 × 체중) + (4.799 × 키) - (5.677 × 나이)
여성: 447.593 + (9.247 × 체중) + (3.098 × 키) - (4.330 × 나이)
```

### 2. TDEE 계산
```
TDEE = BMR × 활동 계수
- 주 3회: 1.375
- 주 4회: 1.55
- 주 5회: 1.725
- 주 6-7회: 1.9
```

### 3. 무게 추천
```
추천 무게 = 체중 × 운동별 배율 × 성별 계수
```

### 4. 심박수 존
```
최대 심박수 = 220 - 나이
목표 심박수 = 최대 심박수 × (60-90%)
```

---

## 🔄 업데이트 히스토리

### v1.0 (초기 버전)
- 기본 운동 플랜 생성
- 영양 가이드

### v2.0 (현재)
- ✅ 대화형 정보 수집
- ✅ 환경별 맞춤 운동
- ✅ 빈도별 다른 분할
- ✅ 성별별 반복 횟수 차별화
- ✅ 무게 가이드 (체중 기반)
- ✅ 예시 식단 (목표별 4가지)
- ✅ 유산소 운동 상세 가이드
- ✅ 통증 부위 관리 및 재활 운동
- ✅ 웹 애플리케이션 (Streamlit)

### v3.0 (향후 계획)
- 🔲 OpenAI API 연동
- 🔲 운동 동영상 링크
- 🔲 진행 상황 DB 저장
- 🔲 플랜 PDF 출력
- 🔲 주차별 자동 진행
- 🔲 체중/사진 기록 기능
- 🔲 정체기 돌파 제안

---

## 📈 실용성

### 일반인 관점
1. ✅ "단백질 120g이 뭔지 모르겠어요"
   → **예시 식단** 제공 (닭가슴살 150g, 계란 3개 등)

2. ✅ "무게를 얼마나 들어야 하나요?"
   → **무게 가이드** 제공 (체중 기반 초/중/고급)

3. ✅ "손목이 아파요"
   → **통증 관리** 제공 (피할 운동, 재활 운동)

4. ✅ "유산소를 어떻게 해야 하나요?"
   → **유산소 가이드** 제공 (심박수, 기구, 시간, 강도)

5. ✅ "여성은 어떻게 운동해야 하나요?"
   → **성별 맞춤** (저강도 고반복, 탄탄한 몸매 중심)

---

## 🎯 사용 시나리오

### 시나리오 A: 헬스장 초보자 여성 (체중 감량)
**입력**
- 키 164cm, 몸무게 57kg, 나이 25세, 여성
- 목표: 체중 감량 + 근육 증가
- 환경: 헬스장
- 빈도: 주 4회, 60분
- 통증: 손목

**출력**
- 신체 분석: BMI 21.19 (정상), 체지방 26% (개선 필요)
- 운동 플랜: 상하체 분할, 여성용 고반복 (10-15회)
- 영양: 1,930kcal, 단백질 102-125g
- 식단: 바디 리컴포지션 식단 예시
- 유산소: HIIT, 심박수 156-175 bpm
- 무게: 스쿼트 28.5-45.6kg, 벤치 11.4-22.8kg
- 통증: 바벨 컬 피하기, 해머 컬 대체, 전완근 강화

### 시나리오 B: 홈트 남성 (근육 증가)
**입력**
- 키 175cm, 몸무게 70kg, 나이 28세, 남성
- 목표: 근육 증가
- 환경: 홈트레이닝 (장비 있음)
- 빈도: 주 5회, 50분
- 통증: 없음

**출력**
- 신체 분석: 자동 추정 (체지방률, 골격근량)
- 운동 플랜: 상하체 분할 + 코어, 남성용 저반복 (6-10회)
- 영양: 2,400kcal, 단백질 126-154g
- 식단: 근육 증가 식단 (계란 3개, 단백질 쉐이크)
- 유산소: HIIT, 심박수 153-173 bpm
- 무게: 스쿼트 70-105kg, 벤치 35-56kg
- 통증: 없음

---

## 🌐 웹 vs Python 스크립트 비교

| 기능 | 웹 앱 | Python 스크립트 |
|------|-------|-----------------|
| 접근성 | 브라우저만 있으면 OK | Python 설치 필요 |
| UI/UX | 아름다운 GUI | 터미널 텍스트 |
| 입력 방식 | 드롭다운, 슬라이더 | 키보드 입력 |
| 결과 보기 | 탭으로 구분 | 긴 스크롤 |
| 저장 | 준비 중 | 텍스트 복사 |
| 모바일 | ✅ 지원 | ❌ 불가 |

**권장**: 일반 사용자는 **웹 앱**, 개발자는 **Python 스크립트**

---

## 📦 파일 구조

```
mcp/
├── fitness_plan_demo.py      # 핵심 로직 (모든 클래스와 메서드)
├── app.py                     # Streamlit 웹 앱
├── my_fitness_plan.py         # 대화형 스크립트
├── demo_example.py            # 3가지 시나리오 비교
├── test_gender.py             # 성별 차이 테스트
├── 기획안.md                  # 프로젝트 기획서
├── 사용_가이드.md             # 상세 사용 설명서
├── 기능_요약.md               # 본 문서
├── README.md                  # 프로젝트 소개
├── requirements.txt           # 의존성 패키지
└── .gitignore                 # Git 제외 파일
```

---

## 🎓 학습 가치

이 프로젝트를 통해 배울 수 있는 것:

### 1. Python 프로그래밍
- 객체 지향 프로그래밍 (클래스, 메서드)
- 입력 검증 (validation)
- 조건문 분기 (if-elif-else)
- 데이터 구조 (딕셔너리, 리스트)

### 2. 알고리즘
- BMR/TDEE 계산
- 체중 기반 무게 추정
- 심박수 존 계산
- 조건에 따른 플랜 생성

### 3. 웹 개발
- Streamlit 프레임워크
- UI/UX 디자인
- 상태 관리 (session_state)
- 반응형 레이아웃

### 4. 도메인 지식
- 운동 생리학 기초
- 영양학 기초
- 재활 운동 원리
- 심박수 존 트레이닝

---

## ✨ 차별화 포인트

### vs 기존 운동 앱
1. ✅ **완전 맞춤화**: 12가지 변수 고려
2. ✅ **통증 관리**: 재활 운동까지 제공
3. ✅ **구체적 식단**: 막연한 영양소 비율이 아닌 실제 음식
4. ✅ **과학적 근거**: BMR, TDEE, 심박수 존 계산
5. ✅ **성별 차별화**: 남성/여성 다른 접근
6. ✅ **무료**: 설치만 하면 무제한 사용

### vs PT (퍼스널 트레이닝)
- 💰 **비용**: PT 월 40-80만원 → FitPlan AI 무료
- ⏰ **시간**: 예약 필요 없음, 언제든지
- 📊 **일관성**: 항상 동일한 품질
- 🔄 **재생성**: 무제한 플랜 생성

---

## 🎯 목표 사용자

### Primary
- 20-40대 운동 초보자
- PT 비용이 부담스러운 사람
- 체계적인 운동 관리를 원하는 사람
- 통증이 있지만 운동하고 싶은 사람

### Secondary
- 운동 중급자 (플랜 참고용)
- 트레이너 (클라이언트 플랜 참고)
- 재활 중인 사람
- 다이어트 관심자

---

**작성일**: 2026년 1월 22일  
**버전**: 2.0  
**작성자**: FitPlan AI Team
